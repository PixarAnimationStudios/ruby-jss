<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: JSS::Package
  
    &mdash; ruby-jss-1.6.7
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "JSS::Package";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (P)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span>
     &raquo; 
    <span class="title">Package</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: JSS::Package
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="APIObject.html" title="JSS::APIObject (class)">APIObject</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="APIObject.html" title="JSS::APIObject (class)">APIObject</a></span></li>
          
            <li class="next">JSS::Package</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Categorizable.html" title="JSS::Categorizable (module)">Categorizable</a></span>, <span class='object_link'><a href="Creatable.html" title="JSS::Creatable (module)">Creatable</a></span>, <span class='object_link'><a href="Updatable.html" title="JSS::Updatable (module)">Updatable</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/jss/api_object/package.rb<span class="defines">,<br />
  lib/jss.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A Package in the JSS</p>

<p>Also the API provides no access to the package&#39;s file list (index), so indexing must be done separately (usually via Casper Admin)</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="RSRC_BASE-constant" class="">RSRC_BASE =
          <div class="docstring">
  <div class="discussion">
    
<p>The base for REST resources of this class</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>packages</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="RSRC_LIST_KEY-constant" class="">RSRC_LIST_KEY =
          <div class="docstring">
  <div class="discussion">
    
<p>the hash key used for the JSON list output of all objects in the JSS</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='symbol'>:packages</span></pre></dd>
      
        <dt id="RSRC_OBJECT_KEY-constant" class="">RSRC_OBJECT_KEY =
          <div class="docstring">
  <div class="discussion">
    
<p>The hash key used for the JSON object output. It&#39;s also used in various error messages</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='symbol'>:package</span></pre></dd>
      
        <dt id="DIST_POINT_PKGS_FOLDER-constant" class="">DIST_POINT_PKGS_FOLDER =
          <div class="docstring">
  <div class="discussion">
    
<p>The pkg storage folder on the distribution point</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Packages</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="CPU_TYPES-constant" class="">CPU_TYPES =
          <div class="docstring">
  <div class="discussion">
    
<p>The possible values for cpu_type (required_processor) in a JSS package</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='qwords_beg'>%w[</span><span class='tstring_content'>None</span><span class='words_sep'> </span><span class='tstring_content'>x86</span><span class='words_sep'> </span><span class='tstring_content'>ppc</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="PRIORITIES-constant" class="">PRIORITIES =
          <div class="docstring">
  <div class="discussion">
    
<p>the possible priorities</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>20</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="DEFAULT_PRIORITY-constant" class="">DEFAULT_PRIORITY =
          <div class="docstring">
  <div class="discussion">
    
<p>the default priority, since one is needed for making new pkgs</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='int'>10</span></pre></dd>
      
        <dt id="DEFAULT_PROCESSOR-constant" class="">DEFAULT_PROCESSOR =
          <div class="docstring">
  <div class="discussion">
    
<p>by default, no processor requirement</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>None</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="DO_NOT_INSTALL-constant" class="">DO_NOT_INSTALL =
          <div class="docstring">
  <div class="discussion">
    
<p>When we shouldn&#39;t install anything (e.g. switch w/package)</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Do Not Install</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="DB_TABLE-constant" class="">DB_TABLE =
          <div class="docstring">
  <div class="discussion">
    
<p>The table in the database for this object</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>packages</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="CHECKSUM_HASH_TYPE_MD5-constant" class="">CHECKSUM_HASH_TYPE_MD5 =
          <div class="docstring">
  <div class="discussion">
    
<p>The hash_type value in the API for md5</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MD5</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="CHECKSUM_HASH_TYPE_SHA512-constant" class="">CHECKSUM_HASH_TYPE_SHA512 =
          <div class="docstring">
  <div class="discussion">
    
<p>The hash_type value in the API for sha512</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SHA_512</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="CHECKSUM_HASH_TYPES-constant" class="">CHECKSUM_HASH_TYPES =
          <div class="docstring">
  <div class="discussion">
    
<p>Mapping of the hash types to the maching Digest modules See <span class='object_link'><a href="#calculate_checksum-instance_method" title="JSS::Package#calculate_checksum (method)">#calculate_checksum</a></span></p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='const'><span class='object_link'><a href="#CHECKSUM_HASH_TYPE_MD5-constant" title="JSS::Package::CHECKSUM_HASH_TYPE_MD5 (constant)">CHECKSUM_HASH_TYPE_MD5</a></span></span> <span class='op'>=&gt;</span> <span class='const'>Digest</span><span class='op'>::</span><span class='const'>MD5</span><span class='comma'>,</span>
  <span class='const'><span class='object_link'><a href="#CHECKSUM_HASH_TYPE_SHA512-constant" title="JSS::Package::CHECKSUM_HASH_TYPE_SHA512 (constant)">CHECKSUM_HASH_TYPE_SHA512</a></span></span> <span class='op'>=&gt;</span> <span class='const'>Digest</span><span class='op'>::</span><span class='const'>SHA512</span>
<span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="DEFAULT_CHECKSUM_HASH_TYPE-constant" class="">DEFAULT_CHECKSUM_HASH_TYPE =
          
        </dt>
        <dd><pre class="code"><span class='const'><span class='object_link'><a href="#CHECKSUM_HASH_TYPE_SHA512-constant" title="JSS::Package::CHECKSUM_HASH_TYPE_SHA512 (constant)">CHECKSUM_HASH_TYPE_SHA512</a></span></span></pre></dd>
      
        <dt id="OBJECT_HISTORY_OBJECT_TYPE-constant" class="">OBJECT_HISTORY_OBJECT_TYPE =
          <div class="docstring">
  <div class="discussion">
    
<p>the object type for this object in the object history table. See <span class='object_link'><a href="APIObject.html#add_object_history_entry-instance_method" title="JSS::APIObject#add_object_history_entry (method)">APIObject#add_object_history_entry</a></span></p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='int'>90</span></pre></dd>
      
        <dt id="CATEGORY_SUBSET-constant" class="">CATEGORY_SUBSET =
          <div class="docstring">
  <div class="discussion">
    
<p>Where is the Category in the API JSON?</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='symbol'>:top</span></pre></dd>
      
        <dt id="CATEGORY_DATA_TYPE-constant" class="">CATEGORY_DATA_TYPE =
          <div class="docstring">
  <div class="discussion">
    
<p>How is the category stored in the API data?</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#allow_uninstalled-instance_method" title="#allow_uninstalled (instance method)">#<strong>allow_uninstalled</strong>  &#x21d2; Boolean </a>
    

    
      (also: #removable, #removable?)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Can this item be uninstalled? Some, e.g.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#boot_volume_required-instance_method" title="#boot_volume_required (instance method)">#<strong>boot_volume_required</strong>  &#x21d2; Boolean </a>
    

    
      (also: #boot, #boot?)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Should this pkg be installed on the boot volume during imaging.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#checksum-instance_method" title="#checksum (instance method)">#<strong>checksum</strong>  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The checksum value for the package file on the dist.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#checksum_type-instance_method" title="#checksum_type (instance method)">#<strong>checksum_type</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>@ @return [Symbol] The checksum hash type used to generate the checksum value,  either :md5 or :sha512, defaults to :sha512 if there is no checksum yet.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#filename-instance_method" title="#filename (instance method)">#<strong>filename</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The filename of the .pkg, .mpkg, or .dmg on the Casper server.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#fill_existing_users-instance_method" title="#fill_existing_users (instance method)">#<strong>fill_existing_users</strong>  &#x21d2; Boolean </a>
    

    
      (also: #feu, #feu?)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Does this item &#39;Fill Existing Users&#39; when jamf installs it?.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#fill_user_template-instance_method" title="#fill_user_template (instance method)">#<strong>fill_user_template</strong>  &#x21d2; Boolean </a>
    

    
      (also: #fut, #fut?)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Does this pkg also get install in the OS user homedir template.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#info-instance_method" title="#info (instance method)">#<strong>info</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The info field for this pkg - stores d3&#39;s basename &amp; swupdate values.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#install_if_reported_available-instance_method" title="#install_if_reported_available (instance method)">#<strong>install_if_reported_available</strong>  &#x21d2; Boolean </a>
    

    
      (also: #if_in_swupdate, #if_in_swupdate?)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Only install this pkg if it&#39;s available in the commandline softwareupdate.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#need_to_update-instance_method" title="#need_to_update (instance method)">#<strong>need_to_update</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Updatable.html#need_to_update-instance_method" title="JSS::Updatable#need_to_update (method)">Updatable</a></span>
    </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Do we have unsaved changes?.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#notes-instance_method" title="#notes (instance method)">#<strong>notes</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The notes field for this pkg.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#os_requirements-instance_method" title="#os_requirements (instance method)">#<strong>os_requirements</strong>  &#x21d2; Array&lt;String&gt; </a>
    

    
      (also: #oses)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The OS versions this can be installed onto.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#priority-instance_method" title="#priority (instance method)">#<strong>priority</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Priority to use for deploying or uninstalling the package.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#reboot_required-instance_method" title="#reboot_required (instance method)">#<strong>reboot_required</strong>  &#x21d2; Boolean </a>
    

    
      (also: #reboot, #reboot?)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Does this item require a reboot after installation?.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#receipt-instance_method" title="#receipt (instance method)">#<strong>receipt</strong>  &#x21d2; Pathname </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The local receipt when this pkg is installed.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#required_processor-instance_method" title="#required_processor (instance method)">#<strong>required_processor</strong>  &#x21d2; String </a>
    

    
      (also: #cpu_type)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Limit installation to these architectures: &#39;x86&#39;,  &#39;ppc&#39;, &#39;None&#39;.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_notification-instance_method" title="#send_notification (instance method)">#<strong>send_notification</strong>  &#x21d2; Boolean </a>
    

    
      (also: #notify)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Does this pkg cause a notification to be sent on self-heal?.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#switch_with_package-instance_method" title="#switch_with_package (instance method)">#<strong>switch_with_package</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The name of a pkg to install (or “Do Not Install”) when this pkg can&#39;t be installed.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_filenames-class_method" title="all_filenames (class method)">.<strong>all_filenames</strong>(api: JSS.api)  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>An array of all dist-point filenames used by all JSS packages.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_filenames_by-class_method" title="all_filenames_by (class method)">.<strong>all_filenames_by</strong>(key, api: JSS.api)  &#x21d2; Hash{Ingeter,String =&gt; String} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A Hash of all dist-point filenames used by all JSS packages, keyed by package name or id.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#calculate_checksum-class_method" title="calculate_checksum (class method)">.<strong>calculate_checksum</strong>(filepath, type = DEFAULT_CHECKSUM_HASH_TYPE)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given a file path, and hash type, generate the checksum for an arbitrary file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_dist_point-class_method" title="fetch_dist_point (class method)">.<strong>fetch_dist_point</strong>(dist_point, api: JSS.api)  &#x21d2; JSS::DistributionPoint </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#missing_files-class_method" title="missing_files (class method)">.<strong>missing_files</strong>(ro_pw, unmount = true, api: JSS.api, dist_point: nil)  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>An array of String filenames for all filenames in any JSS::Package that don&#39;t exist on DIST_POINT_PKGS_FOLDER.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#orphaned_files-class_method" title="orphaned_files (class method)">.<strong>orphaned_files</strong>(ro_pw, unmount = true, api: JSS.api, dist_point: nil)  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>An array of String filenames for all files DIST_POINT_PKGS_FOLDER that aren&#39;t used by a JSS::Package.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#calculate_checksum-instance_method" title="#calculate_checksum (instance method)">#<strong>calculate_checksum</strong>(type: nil, local_file: nil, rw_pw: nil, ro_pw: nil, unmount: true, dist_point: nil)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Caclulate and return the checksum hash for a given local file, or the file on the master dist point if no local file is given.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#category=-instance_method" title="#category= (instance method)">#<strong>category=</strong>(new_cat)  &#x21d2; void </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Categorizable.html#category=-instance_method" title="JSS::Categorizable#category= (method)">Categorizable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Change the category of this object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#category_assigned%3F-instance_method" title="#category_assigned? (instance method)">#<strong>category_assigned?</strong>  &#x21d2; Boolean </a>
    

    
      (also: #categorized?)
    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Categorizable.html#category_assigned%3F-instance_method" title="JSS::Categorizable#category_assigned? (method)">Categorizable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Does this object have a category assigned?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#category_id-instance_method" title="#category_id (instance method)">#<strong>category_id</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Categorizable.html#category_id-instance_method" title="JSS::Categorizable#category_id (method)">Categorizable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The id of the category for this object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#category_name-instance_method" title="#category_name (instance method)">#<strong>category_name</strong>  &#x21d2; String </a>
    

    
      (also: #category)
    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Categorizable.html#category_name-instance_method" title="JSS::Categorizable#category_name (method)">Categorizable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The name of the category for this object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#category_object-instance_method" title="#category_object (instance method)">#<strong>category_object</strong>  &#x21d2; JSS::Category </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Categorizable.html#category_object-instance_method" title="JSS::Categorizable#category_object (method)">Categorizable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The JSS::Category instance for this object&#39;s category.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#checksum_valid%3F-instance_method" title="#checksum_valid? (instance method)">#<strong>checksum_valid?</strong>(local_file: nil, rw_pw: nil, ro_pw: nil, unmount: true, dist_point: nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Is the checksum for this pkg is valid?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clone-instance_method" title="#clone (instance method)">#<strong>clone</strong>(new_name, api: nil)  &#x21d2; APIObject </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Creatable.html#clone-instance_method" title="JSS::Creatable#clone (method)">Creatable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>make a clone of this API object, with a new name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-instance_method" title="#create (instance method)">#<strong>create</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Creatable.html#create-instance_method" title="JSS::Creatable#create (method)">Creatable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new object in the JSS.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(delete_file: false, rw_pw: nil, unmount: true, dist_point: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Delete this package from the JSS, optionally deleting the master dist point file also.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_master_file-instance_method" title="#delete_master_file (instance method)">#<strong>delete_master_file</strong>(rw_pw, unmount = true, dist_point: nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Delete the filename from the master distribution point, if it exists.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#evaluate_new_category-instance_method" title="#evaluate_new_category (instance method)">#<strong>evaluate_new_category</strong>(new_cat)  &#x21d2; Array&lt;String, Integer&gt; </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Categorizable.html#evaluate_new_category-instance_method" title="JSS::Categorizable#evaluate_new_category (method)">Categorizable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given a category name or id, return the name and id TODO: use APIObject.exist? and/or APIObject.valid_id.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(args = {})  &#x21d2; Package </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Package.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#install-instance_method" title="#install (instance method)">#<strong>install</strong>(args = {})  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Install this package via the jamf binary &#39;install&#39; command from the distribution point for this machine.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#installed%3F-instance_method" title="#installed? (instance method)">#<strong>installed?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Is this packaged installed on the current machine (via casper)? We just look for the receipt, which is the @filename less any possible .zip extension.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name=-instance_method" title="#name= (instance method)">#<strong>name=</strong>(newname)  &#x21d2; void </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Updatable.html#name=-instance_method" title="JSS::Updatable#name= (method)">Updatable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Change the name of this item Remember to #update to push changes to the server.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#os_ok%3F-instance_method" title="#os_ok? (instance method)">#<strong>os_ok?</strong>(os = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Is a given OS OK for this package based on its @os_requirements?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#processor_ok%3F-instance_method" title="#processor_ok? (instance method)">#<strong>processor_ok?</strong>(processor = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Is a given processor OK for this package based on its @required_processor?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reset_checksum-instance_method" title="#reset_checksum (instance method)">#<strong>reset_checksum</strong>(type: nil, local_file: nil, rw_pw: nil, ro_pw: nil, unmount: true, dist_point: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Using either a local file, or the file on the master dist.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#type-instance_method" title="#type (instance method)">#<strong>type</strong>  &#x21d2; Symbol </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>What type of package is this?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uninstall-instance_method" title="#uninstall (instance method)">#<strong>uninstall</strong>(args = {})  &#x21d2; Process::Status </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Uninstall this pkg via the jamf command.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unset_category-instance_method" title="#unset_category (instance method)">#<strong>unset_category</strong>  &#x21d2; void </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Categorizable.html#unset_category-instance_method" title="JSS::Categorizable#unset_category (method)">Categorizable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set the category to nothing.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update-instance_method" title="#update (instance method)">#<strong>update</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Updatable.html#update-instance_method" title="JSS::Updatable#update (method)">Updatable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Save changes to the JSS.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_master_filename-instance_method" title="#update_master_filename (instance method)">#<strong>update_master_filename</strong>(old_file_name, new_file_name, rw_pw, unmount = true, dist_point: nil)  &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Change the name of a package file on the master distribution point.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#upload_master_file-instance_method" title="#upload_master_file (instance method)">#<strong>upload_master_file</strong>(local_file_path, rw_pw, unmount = true, chksum: DEFAULT_CHECKSUM_HASH_TYPE, dist_point: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Upload a locally-readable file to the master distribution point.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(args = {})  &#x21d2; <tt><span class='object_link'><a href="" title="JSS::Package (class)">Package</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of Package.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="APIObject.html#initialize-instance_method" title="JSS::APIObject#initialize (method)">APIObject#initialize</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 291</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>super</span>

  <span class='comment'># now we have pkg_data with something in it, so fill out the instance vars
</span>  <span class='ivar'>@allow_uninstalled</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:allow_uninstalled</span><span class='rbracket'>]</span>
  <span class='ivar'>@boot_volume_required</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:boot_volume_required</span><span class='rbracket'>]</span>
  <span class='ivar'>@filename</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:filename</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span>
  <span class='ivar'>@fill_existing_users</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:fill_existing_users</span><span class='rbracket'>]</span>
  <span class='ivar'>@fill_user_template</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:fill_user_template</span><span class='rbracket'>]</span>
  <span class='ivar'>@info</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:info</span><span class='rbracket'>]</span>
  <span class='ivar'>@install_if_reported_available</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:install_if_reported_available</span><span class='rbracket'>]</span>
  <span class='ivar'>@notes</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:notes</span><span class='rbracket'>]</span>
  <span class='ivar'>@os_requirements</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:os_requirements</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s*,\s*</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:os_requirements</span><span class='rbracket'>]</span>
  <span class='ivar'>@os_requirements</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='ivar'>@priority</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:priority</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'><span class='object_link'><a href="#DEFAULT_PRIORITY-constant" title="JSS::Package::DEFAULT_PRIORITY (constant)">DEFAULT_PRIORITY</a></span></span>
  <span class='ivar'>@reboot_required</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:reboot_required</span><span class='rbracket'>]</span>
  <span class='ivar'>@required_processor</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:required_processor</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'><span class='object_link'><a href="#DEFAULT_PROCESSOR-constant" title="JSS::Package::DEFAULT_PROCESSOR (constant)">DEFAULT_PROCESSOR</a></span></span>
  <span class='ivar'>@required_processor</span> <span class='op'>=</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='ivar'>@required_processor</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_casecmp'>casecmp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>none</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
  <span class='ivar'>@send_notification</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:send_notification</span><span class='rbracket'>]</span>
  <span class='ivar'>@switch_with_package</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:switch_with_package</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'><span class='object_link'><a href="#DO_NOT_INSTALL-constant" title="JSS::Package::DO_NOT_INSTALL (constant)">DO_NOT_INSTALL</a></span></span>

  <span class='ivar'>@checksum</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:hash_value</span><span class='rbracket'>]</span> <span class='comment'>#ill be nil if no checksum
</span>  <span class='ivar'>@checksum_type</span> <span class='op'>=</span> <span class='ivar'>@checksum</span> <span class='op'>?</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:hash_type</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="#DEFAULT_CHECKSUM_HASH_TYPE-constant" title="JSS::Package::DEFAULT_CHECKSUM_HASH_TYPE (constant)">DEFAULT_CHECKSUM_HASH_TYPE</a></span></span>


  <span class='comment'># the receipt is the filename with any .zip extension removed.
</span>  <span class='ivar'>@receipt</span> <span class='op'>=</span> <span class='ivar'>@filename</span> <span class='op'>?</span> <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Client.html" title="JSS::Client (class)">Client</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Client.html#RECEIPTS_FOLDER-constant" title="JSS::Client::RECEIPTS_FOLDER (constant)">RECEIPTS_FOLDER</a></span></span> <span class='op'>+</span> <span class='ivar'>@filename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.zip$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="allow_uninstalled=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="allow_uninstalled-instance_method">
  
    #<strong>allow_uninstalled</strong>  &#x21d2; <tt>Boolean</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='removable-instance_method'>removable</span>, <span id='removable?-instance_method'>removable?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns can this item be uninstalled? Some, e.g. OS Updates, can&#39;t.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>can this item be uninstalled? Some, e.g. OS Updates, can&#39;t</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


261
262
263</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 261</span>

<span class='kw'>def</span> <span class='id identifier rubyid_allow_uninstalled'>allow_uninstalled</span>
  <span class='ivar'>@allow_uninstalled</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="boot_volume_required=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="boot_volume_required-instance_method">
  
    #<strong>boot_volume_required</strong>  &#x21d2; <tt>Boolean</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='boot-instance_method'>boot</span>, <span id='boot?-instance_method'>boot?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns should this pkg be installed on the boot volume during imaging.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>should this pkg be installed on the boot volume during imaging</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


273
274
275</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 273</span>

<span class='kw'>def</span> <span class='id identifier rubyid_boot_volume_required'>boot_volume_required</span>
  <span class='ivar'>@boot_volume_required</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="checksum=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="checksum-instance_method">
  
    #<strong>checksum</strong>  &#x21d2; <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the checksum value for the package file on the dist. point, if it&#39;s been calculated.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the checksum value for the package file on the dist. point, if it&#39;s been calculated.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


287
288
289</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 287</span>

<span class='kw'>def</span> <span class='id identifier rubyid_checksum'>checksum</span>
  <span class='ivar'>@checksum</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="checksum_type=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="checksum_type-instance_method">
  
    #<strong>checksum_type</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>@ @return [Symbol] The checksum hash type used to generate the checksum value,</p>

<pre class="code ruby"><code class="ruby">either :md5 or :sha512, defaults to :sha512 if there is no checksum yet.
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


283
284
285</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 283</span>

<span class='kw'>def</span> <span class='id identifier rubyid_checksum_type'>checksum_type</span>
  <span class='ivar'>@checksum_type</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="filename=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="filename-instance_method">
  
    #<strong>filename</strong>  &#x21d2; <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the filename of the .pkg, .mpkg, or .dmg on the Casper server.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the filename of the .pkg, .mpkg, or .dmg on the Casper server</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 237</span>

<span class='kw'>def</span> <span class='id identifier rubyid_filename'>filename</span>
  <span class='ivar'>@filename</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="fill_existing_users=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="fill_existing_users-instance_method">
  
    #<strong>fill_existing_users</strong>  &#x21d2; <tt>Boolean</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='feu-instance_method'>feu</span>, <span id='feu?-instance_method'>feu?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns does this item &#39;Fill Existing Users&#39; when jamf installs it?.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>does this item &#39;Fill Existing Users&#39; when jamf installs it?</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


243
244
245</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 243</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fill_existing_users'>fill_existing_users</span>
  <span class='ivar'>@fill_existing_users</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="fill_user_template=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="fill_user_template-instance_method">
  
    #<strong>fill_user_template</strong>  &#x21d2; <tt>Boolean</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='fut-instance_method'>fut</span>, <span id='fut?-instance_method'>fut?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns does this pkg also get install in the OS user homedir template.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>does this pkg also get install in the OS user homedir template</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


246
247
248</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 246</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fill_user_template'>fill_user_template</span>
  <span class='ivar'>@fill_user_template</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="info=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="info-instance_method">
  
    #<strong>info</strong>  &#x21d2; <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the info field for this pkg - stores d3&#39;s basename &amp; swupdate values.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the info field for this pkg - stores d3&#39;s basename &amp; swupdate values</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


264
265
266</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 264</span>

<span class='kw'>def</span> <span class='id identifier rubyid_info'>info</span>
  <span class='ivar'>@info</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="install_if_reported_available=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="install_if_reported_available-instance_method">
  
    #<strong>install_if_reported_available</strong>  &#x21d2; <tt>Boolean</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='if_in_swupdate-instance_method'>if_in_swupdate</span>, <span id='if_in_swupdate?-instance_method'>if_in_swupdate?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns only install this pkg if it&#39;s available in the commandline softwareupdate.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>only install this pkg if it&#39;s available in the commandline softwareupdate.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


270
271
272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 270</span>

<span class='kw'>def</span> <span class='id identifier rubyid_install_if_reported_available'>install_if_reported_available</span>
  <span class='ivar'>@install_if_reported_available</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="need_to_update-instance_method">
  
    #<strong>need_to_update</strong>  &#x21d2; <tt>Boolean</tt>  <span class="extras">(readonly)</span>
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Updatable.html#need_to_update-instance_method" title="JSS::Updatable#need_to_update (method)">Updatable</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns do we have unsaved changes?.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>do we have unsaved changes?</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      
      <span id="notes=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="notes-instance_method">
  
    #<strong>notes</strong>  &#x21d2; <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the notes field for this pkg.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the notes field for this pkg</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


267
268
269</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 267</span>

<span class='kw'>def</span> <span class='id identifier rubyid_notes'>notes</span>
  <span class='ivar'>@notes</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="os_requirements=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="os_requirements-instance_method">
  
    #<strong>os_requirements</strong>  &#x21d2; <tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>&gt;</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='oses-instance_method'>oses</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the OS versions this can be installed onto. For all minor versions, the format is 10.5.x.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the OS versions this can be installed onto. For all minor versions, the format is 10.5.x</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


252
253
254</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 252</span>

<span class='kw'>def</span> <span class='id identifier rubyid_os_requirements'>os_requirements</span>
  <span class='ivar'>@os_requirements</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="priority=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="priority-instance_method">
  
    #<strong>priority</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns Priority to use for deploying or uninstalling the package.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Priority to use for deploying or uninstalling the package</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


276
277
278</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 276</span>

<span class='kw'>def</span> <span class='id identifier rubyid_priority'>priority</span>
  <span class='ivar'>@priority</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="reboot_required=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="reboot_required-instance_method">
  
    #<strong>reboot_required</strong>  &#x21d2; <tt>Boolean</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='reboot-instance_method'>reboot</span>, <span id='reboot?-instance_method'>reboot?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns does this item require a reboot after installation?.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>does this item require a reboot after installation?</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


249
250
251</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 249</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reboot_required'>reboot_required</span>
  <span class='ivar'>@reboot_required</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="receipt-instance_method">
  
    #<strong>receipt</strong>  &#x21d2; <tt><span class='object_link'><a href="../Pathname.html" title="Pathname (class)">Pathname</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the local receipt when this pkg is installed.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Pathname.html" title="Pathname (class)">Pathname</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the local receipt when this pkg is installed</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


240
241
242</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 240</span>

<span class='kw'>def</span> <span class='id identifier rubyid_receipt'>receipt</span>
  <span class='ivar'>@receipt</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="required_processor=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="required_processor-instance_method">
  
    #<strong>required_processor</strong>  &#x21d2; <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='cpu_type-instance_method'>cpu_type</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns limit installation to these architectures: &#39;x86&#39;,  &#39;ppc&#39;, &#39;None&#39;.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>limit installation to these architectures: &#39;x86&#39;,  &#39;ppc&#39;, &#39;None&#39;</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 255</span>

<span class='kw'>def</span> <span class='id identifier rubyid_required_processor'>required_processor</span>
  <span class='ivar'>@required_processor</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="send_notification=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="send_notification-instance_method">
  
    #<strong>send_notification</strong>  &#x21d2; <tt>Boolean</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='notify-instance_method'>notify</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns does this pkg cause a notification to be sent on self-heal?.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>does this pkg cause a notification to be sent on self-heal?</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


279
280
281</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 279</span>

<span class='kw'>def</span> <span class='id identifier rubyid_send_notification'>send_notification</span>
  <span class='ivar'>@send_notification</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="switch_with_package=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="switch_with_package-instance_method">
  
    #<strong>switch_with_package</strong>  &#x21d2; <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the name of a pkg to install (or “Do Not Install”) when this pkg can&#39;t be installed.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of a pkg to install (or “Do Not Install”) when this pkg can&#39;t be installed</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


258
259
260</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 258</span>

<span class='kw'>def</span> <span class='id identifier rubyid_switch_with_package'>switch_with_package</span>
  <span class='ivar'>@switch_with_package</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="all_filenames-class_method">
  
    .<strong>all_filenames</strong>(api: JSS.api)  &#x21d2; <tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>An array of all dist-point filenames used by all JSS packages</p>

<p>Slow cuz we have to instantiate every pkg</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>api</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="APIConnection.html" title="JSS::APIConnection (class)">JSS::APIConnection</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>JSS.api</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>an API connection to use Defaults to the corrently active API. See <span class='object_link'><a href="APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The current file names</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 123</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_all_filenames'>all_filenames</span><span class='lparen'>(</span><span class='label'>api:</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_api'><span class='object_link'><a href="../JSS.html#api-class_method" title="JSS.api (method)">api</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_all_filenames_by'>all_filenames_by</span><span class='lparen'>(</span><span class='symbol'>:id</span><span class='comma'>,</span> <span class='label'>api:</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="all_filenames_by-class_method">
  
    .<strong>all_filenames_by</strong>(key, api: JSS.api)  &#x21d2; <tt><span class='object_link'><a href="../Hash.html" title="Hash (class)">Hash</a></span>{Ingeter,<span class='object_link'><a href="../String.html" title="String (class)">String</a></span> =&gt; <span class='object_link'><a href="../String.html" title="String (class)">String</a></span>}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A Hash of all dist-point filenames used by all JSS packages, keyed by package name or id</p>

<p>Slow cuz we have to instantiate every pkg</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>either :id, or :name</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>api</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="APIConnection.html" title="JSS::APIConnection (class)">JSS::APIConnection</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>JSS.api</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>an API connection to use Defaults to the corrently active API. See <span class='object_link'><a href="APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Hash.html" title="Hash (class)">Hash</a></span>{Ingeter,<span class='object_link'><a href="../String.html" title="String (class)">String</a></span> =&gt; <span class='object_link'><a href="../String.html" title="String (class)">String</a></span>}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The current file names by key</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


139
140
141
142
143
144
145
146
147
148
149</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 139</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_all_filenames_by'>all_filenames_by</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='label'>api:</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_api'><span class='object_link'><a href="../JSS.html#api-class_method" title="JSS.api (method)">api</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>key must be :id or :name</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='qsymbols_beg'>%i[</span><span class='tstring_content'>id</span><span class='words_sep'> </span><span class='tstring_content'>name</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_key'>key</span>

  <span class='id identifier rubyid_files_in_use'>files_in_use</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_all_ids'>all_ids</span><span class='lparen'>(</span><span class='symbol'>:refresh</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pkg_id'>pkg_id</span><span class='op'>|</span>
    <span class='id identifier rubyid_pkg'>pkg</span> <span class='op'>=</span> <span class='id identifier rubyid_fetch'>fetch</span> <span class='label'>id:</span> <span class='id identifier rubyid_pkg_id'>pkg_id</span><span class='comma'>,</span> <span class='label'>api:</span> <span class='id identifier rubyid_api'>api</span>
    <span class='id identifier rubyid_files_in_use'>files_in_use</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkg'>pkg</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_pkg'>pkg</span><span class='period'>.</span><span class='id identifier rubyid_filename'>filename</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_files_in_use'>files_in_use</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="calculate_checksum-class_method">
  
    .<strong>calculate_checksum</strong>(filepath, type = DEFAULT_CHECKSUM_HASH_TYPE)  &#x21d2; <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given a file path, and hash type, generate the checksum for an arbitrary file.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>filepath</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../Pathname.html" title="Pathname (class)">Pathname</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The file to checksum</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>DEFAULT_CHECKSUM_HASH_TYPE</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>One of the keys of CHECKSUM_HASH_TYPES, either CHECKSUM_HASH_TYPE_MD5 or CHECKSUM_HASH_TYPE_SHA512</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The checksum of the file</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


216
217
218
219</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 216</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_calculate_checksum'>calculate_checksum</span><span class='lparen'>(</span><span class='id identifier rubyid_filepath'>filepath</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="#DEFAULT_CHECKSUM_HASH_TYPE-constant" title="JSS::Package::DEFAULT_CHECKSUM_HASH_TYPE (constant)">DEFAULT_CHECKSUM_HASH_TYPE</a></span></span> <span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Unknown checksum hash type</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="#CHECKSUM_HASH_TYPES-constant" title="JSS::Package::CHECKSUM_HASH_TYPES (constant)">CHECKSUM_HASH_TYPES</a></span></span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span> <span class='id identifier rubyid_type'>type</span>
  <span class='const'><span class='object_link'><a href="#CHECKSUM_HASH_TYPES-constant" title="JSS::Package::CHECKSUM_HASH_TYPES (constant)">CHECKSUM_HASH_TYPES</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_type'>type</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_file'>file</span><span class='lparen'>(</span><span class='id identifier rubyid_filepath'>filepath</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_hexdigest'>hexdigest</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_dist_point-class_method">
  
    .<strong>fetch_dist_point</strong>(dist_point, api: JSS.api)  &#x21d2; <tt><span class='object_link'><a href="DistributionPoint.html" title="JSS::DistributionPoint (class)">JSS::DistributionPoint</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dist_point</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name or id of the distribution point to use. Defaults to the Master Dist. Point</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DistributionPoint.html" title="JSS::DistributionPoint (class)">JSS::DistributionPoint</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


225
226
227
228
229
230
231</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 225</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_fetch_dist_point'>fetch_dist_point</span><span class='lparen'>(</span><span class='id identifier rubyid_dist_point'>dist_point</span><span class='comma'>,</span> <span class='label'>api:</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_api'><span class='object_link'><a href="../JSS.html#api-class_method" title="JSS.api (method)">api</a></span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_dist_point'>dist_point</span>
    <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DistributionPoint.html" title="JSS::DistributionPoint (class)">DistributionPoint</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="APIObject.html#fetch-class_method" title="JSS::APIObject.fetch (method)">fetch</a></span></span> <span class='id identifier rubyid_dist_point'>dist_point</span><span class='comma'>,</span> <span class='label'>api:</span> <span class='id identifier rubyid_api'>api</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DistributionPoint.html" title="JSS::DistributionPoint (class)">DistributionPoint</a></span></span><span class='period'>.</span><span class='id identifier rubyid_master_distribution_point'><span class='object_link'><a href="DistributionPoint.html#master_distribution_point-class_method" title="JSS::DistributionPoint.master_distribution_point (method)">master_distribution_point</a></span></span> <span class='label'>api:</span> <span class='id identifier rubyid_api'>api</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="missing_files-class_method">
  
    .<strong>missing_files</strong>(ro_pw, unmount = true, api: JSS.api, dist_point: nil)  &#x21d2; <tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>An array of String filenames for all filenames in any JSS::Package that don&#39;t exist on DIST_POINT_PKGS_FOLDER</p>

<p>Slow cuz we have to instantiate every pkg</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>ro_pw</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the password for the readonly account on the master Distribution Point,</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unmount</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>whether or not ot unount the distribution point when finished.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>api</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="APIConnection.html" title="JSS::APIConnection (class)">JSS::APIConnection</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>JSS.api</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>an API connection to use Defaults to the corrently active API. See <span class='object_link'><a href="APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>dist_point</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the name or id of the distribution point to use. Defaults to the Master Dist. Point</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The orphaned files</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


198
199
200
201
202
203
204</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 198</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_missing_files'>missing_files</span><span class='lparen'>(</span><span class='id identifier rubyid_ro_pw'>ro_pw</span><span class='comma'>,</span> <span class='id identifier rubyid_unmount'>unmount</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>api:</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_api'><span class='object_link'><a href="../JSS.html#api-class_method" title="JSS.api (method)">api</a></span></span><span class='comma'>,</span> <span class='label'>dist_point:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dp'>dp</span> <span class='op'>=</span> <span class='id identifier rubyid_fetch_dist_point'>fetch_dist_point</span><span class='lparen'>(</span><span class='id identifier rubyid_dist_point'>dist_point</span><span class='comma'>,</span> <span class='label'>api:</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pkgs_dir'>pkgs_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_dp'>dp</span><span class='period'>.</span><span class='id identifier rubyid_mount'>mount</span><span class='lparen'>(</span><span class='id identifier rubyid_ro_pw'>ro_pw</span><span class='comma'>,</span> <span class='symbol'>:ro</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='const'><span class='object_link'><a href="#DIST_POINT_PKGS_FOLDER-constant" title="JSS::Package::DIST_POINT_PKGS_FOLDER (constant)">DIST_POINT_PKGS_FOLDER</a></span></span>
  <span class='id identifier rubyid_files_on_dp'>files_on_dp</span> <span class='op'>=</span> <span class='id identifier rubyid_pkgs_dir'>pkgs_dir</span><span class='period'>.</span><span class='id identifier rubyid_children'>children</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_dp'>dp</span><span class='period'>.</span><span class='id identifier rubyid_unmount'>unmount</span> <span class='kw'>if</span> <span class='id identifier rubyid_unmount'>unmount</span>
  <span class='id identifier rubyid_all_filenames'>all_filenames</span><span class='lparen'>(</span><span class='label'>api:</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='id identifier rubyid_files_on_dp'>files_on_dp</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="orphaned_files-class_method">
  
    .<strong>orphaned_files</strong>(ro_pw, unmount = true, api: JSS.api, dist_point: nil)  &#x21d2; <tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>An array of String filenames for all files DIST_POINT_PKGS_FOLDER that aren&#39;t used by a JSS::Package</p>

<p>Slow cuz we have to instantiate every pkg</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>ro_pw</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the password for the readonly account on the master Distribution Point,</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unmount</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>whether or not ot unount the distribution point when finished.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>api</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="APIConnection.html" title="JSS::APIConnection (class)">JSS::APIConnection</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>JSS.api</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>an API connection to use Defaults to the corrently active API. See <span class='object_link'><a href="APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>dist_point</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the name or id of the distribution point to use. Defaults to the Master Dist. Point</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The orphaned files</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


170
171
172
173
174
175
176</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 170</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_orphaned_files'>orphaned_files</span><span class='lparen'>(</span><span class='id identifier rubyid_ro_pw'>ro_pw</span><span class='comma'>,</span> <span class='id identifier rubyid_unmount'>unmount</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>api:</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_api'><span class='object_link'><a href="../JSS.html#api-class_method" title="JSS.api (method)">api</a></span></span><span class='comma'>,</span> <span class='label'>dist_point:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dp'>dp</span> <span class='op'>=</span> <span class='id identifier rubyid_fetch_dist_point'>fetch_dist_point</span><span class='lparen'>(</span><span class='id identifier rubyid_dist_point'>dist_point</span><span class='comma'>,</span> <span class='label'>api:</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pkgs_dir'>pkgs_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_dp'>dp</span><span class='period'>.</span><span class='id identifier rubyid_mount'>mount</span><span class='lparen'>(</span><span class='id identifier rubyid_ro_pw'>ro_pw</span><span class='comma'>,</span> <span class='symbol'>:ro</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='const'><span class='object_link'><a href="#DIST_POINT_PKGS_FOLDER-constant" title="JSS::Package::DIST_POINT_PKGS_FOLDER (constant)">DIST_POINT_PKGS_FOLDER</a></span></span>
  <span class='id identifier rubyid_files_on_dp'>files_on_dp</span> <span class='op'>=</span> <span class='id identifier rubyid_pkgs_dir'>pkgs_dir</span><span class='period'>.</span><span class='id identifier rubyid_children'>children</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_dp'>dp</span><span class='period'>.</span><span class='id identifier rubyid_unmount'>unmount</span> <span class='kw'>if</span> <span class='id identifier rubyid_unmount'>unmount</span>
  <span class='id identifier rubyid_files_on_dp'>files_on_dp</span> <span class='op'>-</span> <span class='id identifier rubyid_all_filenames'>all_filenames</span><span class='lparen'>(</span><span class='label'>api:</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="calculate_checksum-instance_method">
  
    #<strong>calculate_checksum</strong>(type: nil, local_file: nil, rw_pw: nil, ro_pw: nil, unmount: true, dist_point: nil)  &#x21d2; <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Caclulate and return the checksum hash for a given local file, or the file on the master dist point if no local file is given.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The checksum hash type, one of the keys of CHECKSUM_HASH_TYPES</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>local_file</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../Pathname.html" title="Pathname (class)">Pathname</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>A local copy of the pkg file. BE SURE it&#39;s identical to the one on the server. If omitted, the master dist. point will be mounted and the file read from there.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>rw_pw</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The read-write password for mounting the master dist point. Either this or the ro_pw must be provided if no local_file</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>ro_pw</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The read-onlypassword for mounting the master dist point. Either this or the rw_pw must be provided if no local_file</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unmount</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Unmount the master dist point after using it. Only used if the dist point is mounted. default: true</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>dist_point</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the name or id of the distribution point to use. Defaults to the Master Dist. Point</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The calculated checksum</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 748</span>

<span class='kw'>def</span> <span class='id identifier rubyid_calculate_checksum'>calculate_checksum</span><span class='lparen'>(</span><span class='label'>type:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>local_file:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>rw_pw:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>ro_pw:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>unmount:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>dist_point:</span> <span class='kw'>nil</span> <span class='rparen'>)</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="#DEFAULT_CHECKSUM_HASH_TYPE-constant" title="JSS::Package::DEFAULT_CHECKSUM_HASH_TYPE (constant)">DEFAULT_CHECKSUM_HASH_TYPE</a></span></span>
  <span class='id identifier rubyid_dp'>dp</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_fetch_dist_point'>fetch_dist_point</span><span class='lparen'>(</span><span class='id identifier rubyid_dist_point'>dist_point</span><span class='comma'>,</span> <span class='label'>api:</span> <span class='ivar'>@api</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_local_file'>local_file</span>
    <span class='id identifier rubyid_file_to_calc'>file_to_calc</span> <span class='op'>=</span> <span class='id identifier rubyid_local_file'>local_file</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_rw_pw'>rw_pw</span>
      <span class='id identifier rubyid_dppw'>dppw</span> <span class='op'>=</span> <span class='id identifier rubyid_rw_pw'>rw_pw</span>
      <span class='id identifier rubyid_mnt'>mnt</span> <span class='op'>=</span> <span class='symbol'>:rw</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_ro_pw'>ro_pw</span>
      <span class='id identifier rubyid_dppw'>dppw</span> <span class='op'>=</span> <span class='id identifier rubyid_ro_pw'>ro_pw</span>
      <span class='id identifier rubyid_mnt'>mnt</span> <span class='op'>=</span> <span class='symbol'>:ro</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Either rw_pw: or ro_pw: must be provided</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_file_to_calc'>file_to_calc</span> <span class='op'>=</span> <span class='id identifier rubyid_dp'>dp</span><span class='period'>.</span><span class='id identifier rubyid_mount'>mount</span><span class='lparen'>(</span><span class='id identifier rubyid_dppw'>dppw</span><span class='comma'>,</span> <span class='id identifier rubyid_mnt'>mnt</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="#DIST_POINT_PKGS_FOLDER-constant" title="JSS::Package::DIST_POINT_PKGS_FOLDER (constant)">DIST_POINT_PKGS_FOLDER</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='ivar'>@filename</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_new_checksum'>new_checksum</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_calculate_checksum'>calculate_checksum</span><span class='lparen'>(</span><span class='id identifier rubyid_file_to_calc'>file_to_calc</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dp'>dp</span><span class='period'>.</span><span class='id identifier rubyid_unmount'>unmount</span> <span class='kw'>if</span> <span class='id identifier rubyid_unmount'>unmount</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_dp'>dp</span><span class='period'>.</span><span class='id identifier rubyid_mounted?'>mounted?</span>
  <span class='id identifier rubyid_new_checksum'>new_checksum</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="category=-instance_method">
  
    #<strong>category=</strong>(new_cat)  &#x21d2; <tt>void</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Categorizable.html#category=-instance_method" title="JSS::Categorizable#category= (method)">Categorizable</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Change the category of this object. Any of the NON_CATEGORIES values will unset the category</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>new_cat</span>
      
      
        <span class='type'>(<tt>Integer</tt>, <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The new category</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="NoSuchItemError.html" title="JSS::NoSuchItemError (class)">JSS::NoSuchItemError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="category_assigned?-instance_method">
  
    #<strong>category_assigned?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='categorized?-instance_method'>categorized?</span></span>
    </span>
  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Categorizable.html#category_assigned%3F-instance_method" title="JSS::Categorizable#category_assigned? (method)">Categorizable</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Does this object have a category assigned?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Does this object have a category assigned?</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="category_id-instance_method">
  
    #<strong>category_id</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Categorizable.html#category_id-instance_method" title="JSS::Categorizable#category_id (method)">Categorizable</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The id of the category for this object.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The id of the category for this object.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="category_name-instance_method">
  
    #<strong>category_name</strong>  &#x21d2; <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='category-instance_method'>category</span></span>
    </span>
  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Categorizable.html#category_name-instance_method" title="JSS::Categorizable#category_name (method)">Categorizable</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The name of the category for this object. For backward compatibility, this is aliased to just &#39;category&#39;</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The name of the category for this object.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="category_object-instance_method">
  
    #<strong>category_object</strong>  &#x21d2; <tt><span class='object_link'><a href="Category.html" title="JSS::Category (class)">JSS::Category</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Categorizable.html#category_object-instance_method" title="JSS::Categorizable#category_object (method)">Categorizable</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The JSS::Category instance for this object&#39;s category</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Category.html" title="JSS::Category (class)">JSS::Category</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The JSS::Category instance for this object&#39;s category</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="checksum_valid?-instance_method">
  
    #<strong>checksum_valid?</strong>(local_file: nil, rw_pw: nil, ro_pw: nil, unmount: true, dist_point: nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Is the checksum for this pkg is valid?</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>local_file</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../Pathname.html" title="Pathname (class)">Pathname</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>A local copy of the pkg file. BE SURE it&#39;s identical to the one on the server. If omitted, the master dist. point will be mounted and the file read from there.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>rw_pw</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The read-write password for mounting the master dist point. Either this or the ro_pw must be provided if no local_file</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>ro_pw</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The read-onlypassword for mounting the master dist point. Either this or the rw_pw must be provided if no local_file</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unmount</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Unmount the master dist point after using it. Only used if the dist point is mounted. default: true</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>dist_point</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the name or id of the distribution point to use. Defaults to the Master Dist. Point</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>false if there is no checksum for this pkg, otherwise, does the calculated checksum match the one stored for the pkg?</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


792
793
794
795
796
797
798
799
800
801
802
803</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 792</span>

<span class='kw'>def</span> <span class='id identifier rubyid_checksum_valid?'>checksum_valid?</span><span class='lparen'>(</span><span class='label'>local_file:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>rw_pw:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>ro_pw:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>unmount:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>dist_point:</span> <span class='kw'>nil</span> <span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='ivar'>@checksum</span>
  <span class='id identifier rubyid_new_checksum'>new_checksum</span> <span class='op'>=</span> <span class='id identifier rubyid_calculate_checksum'>calculate_checksum</span><span class='lparen'>(</span>
    <span class='label'>type:</span> <span class='ivar'>@checksum_type</span><span class='comma'>,</span>
    <span class='label'>local_file:</span> <span class='id identifier rubyid_local_file'>local_file</span><span class='comma'>,</span>
    <span class='label'>rw_pw:</span> <span class='id identifier rubyid_rw_pw'>rw_pw</span><span class='comma'>,</span>
    <span class='label'>ro_pw:</span> <span class='id identifier rubyid_ro_pw'>ro_pw</span><span class='comma'>,</span>
    <span class='label'>unmount:</span> <span class='id identifier rubyid_unmount'>unmount</span><span class='comma'>,</span>
    <span class='label'>dist_point:</span> <span class='id identifier rubyid_dist_point'>dist_point</span>
  <span class='rparen'>)</span>
  <span class='id identifier rubyid_new_checksum'>new_checksum</span> <span class='op'>==</span> <span class='ivar'>@checksum</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clone-instance_method">
  
    #<strong>clone</strong>(new_name, api: nil)  &#x21d2; <tt><span class='object_link'><a href="APIObject.html" title="JSS::APIObject (class)">APIObject</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Creatable.html#clone-instance_method" title="JSS::Creatable#clone (method)">Creatable</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>make a clone of this API object, with a new name. The class must be creatable</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name for the new object</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>api</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="APIConnection.html" title="JSS::APIConnection (class)">JSS::APIConnection</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the API in which to create the object Defaults to the API used to instantiate this object</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="APIObject.html" title="JSS::APIObject (class)">APIObject</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An uncreated clone of this APIObject with the given name</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="UnsupportedError.html" title="JSS::UnsupportedError (class)">JSS::UnsupportedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create-instance_method">
  
    #<strong>create</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Creatable.html#create-instance_method" title="JSS::Creatable#create (method)">Creatable</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new object in the JSS.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>api</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="APIConnection.html" title="JSS::APIConnection (class)">JSS::APIConnection</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the API in which to create the object Defaults to the API used to instantiate this object</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the jss ID of the newly created object</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="UnsupportedError.html" title="JSS::UnsupportedError (class)">JSS::UnsupportedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete-instance_method">
  
    #<strong>delete</strong>(delete_file: false, rw_pw: nil, unmount: true, dist_point: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Delete this package from the JSS, optionally deleting the master dist point file also.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>delete_file</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>should the master dist point file be deleted?</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>rw_pw</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the password for the read/write account on the master Distribution Point or :prompt, or :stdin# where # is the line of stdin containing the password. See <span class='object_link'><a href="DistributionPoint.html#mount-instance_method" title="JSS::DistributionPoint#mount (method)">DistributionPoint#mount</a></span></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unmount</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>whether or not ot unount the distribution point when finished.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>dist_point</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the name or id of the distribution point to use. Defaults to the Master Dist. Point</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


883
884
885
886</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 883</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='label'>delete_file:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>rw_pw:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>unmount:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>dist_point:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_delete_master_file'>delete_master_file</span><span class='lparen'>(</span><span class='id identifier rubyid_rw_pw'>rw_pw</span><span class='comma'>,</span> <span class='id identifier rubyid_unmount'>unmount</span><span class='comma'>,</span> <span class='label'>dist_point:</span> <span class='id identifier rubyid_dist_point'>dist_point</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_delete_file'>delete_file</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_master_file-instance_method">
  
    #<strong>delete_master_file</strong>(rw_pw, unmount = true, dist_point: nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Delete the filename from the master distribution point, if it exists.</p>

<p>If you&#39;ll be uploading several files you can specify unmount as false, and do it manually when all are finished.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>rw_pw</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the password for the read/write account on the master Distribution Point or :prompt, or :stdin# where # is the line of stdin containing the password. See <span class='object_link'><a href="DistributionPoint.html#mount-instance_method" title="JSS::DistributionPoint#mount (method)">DistributionPoint#mount</a></span></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unmount</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>whether or not ot unount the distribution point when finished.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>dist_point</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the name or id of the distribution point to use. Defaults to the Master Dist. Point</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>was the file deleted?</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


856
857
858
859
860
861
862
863
864
865
866
867</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 856</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_master_file'>delete_master_file</span><span class='lparen'>(</span><span class='id identifier rubyid_rw_pw'>rw_pw</span><span class='comma'>,</span> <span class='id identifier rubyid_unmount'>unmount</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>dist_point:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dp'>dp</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_fetch_dist_point'>fetch_dist_point</span><span class='lparen'>(</span><span class='id identifier rubyid_dist_point'>dist_point</span><span class='comma'>,</span> <span class='label'>api:</span> <span class='ivar'>@api</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_dp'>dp</span><span class='period'>.</span><span class='id identifier rubyid_mount'>mount</span><span class='lparen'>(</span><span class='id identifier rubyid_rw_pw'>rw_pw</span><span class='comma'>,</span> <span class='symbol'>:rw</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="#DIST_POINT_PKGS_FOLDER-constant" title="JSS::Package::DIST_POINT_PKGS_FOLDER (constant)">DIST_POINT_PKGS_FOLDER</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='ivar'>@filename</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>
    <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span>
    <span class='id identifier rubyid_did_it'>did_it</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_did_it'>did_it</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>end</span> <span class='comment'># if exists
</span>  <span class='id identifier rubyid_dp'>dp</span><span class='period'>.</span><span class='id identifier rubyid_unmount'>unmount</span> <span class='kw'>if</span> <span class='id identifier rubyid_unmount'>unmount</span>
  <span class='id identifier rubyid_did_it'>did_it</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="evaluate_new_category-instance_method">
  
    #<strong>evaluate_new_category</strong>(new_cat)  &#x21d2; <tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>, Integer&gt;</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Categorizable.html#evaluate_new_category-instance_method" title="JSS::Categorizable#evaluate_new_category (method)">Categorizable</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given a category name or id, return the name and id TODO: use APIObject.exist? and/or APIObject.valid_id</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>new_cat</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The name or id of a possible category</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>, Integer&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The matching name and id, which may be nil.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="install-instance_method">
  
    #<strong>install</strong>(args = {})  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'>
<p>deal with cert-based https authentication in dist points</p>
</div>
  </div>


  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This code must be run as root to install packages</p>
</div>
  </div>


<p>Install this package via the jamf binary &#39;install&#39; command from the distribution point for this machine. See <span class='object_link'><a href="DistributionPoint.html#my_distribution_point-class_method" title="JSS::DistributionPoint.my_distribution_point (method)">DistributionPoint.my_distribution_point</a></span></p>

<p>The read-only or http passwd for the dist. point must be provided, except for non-authenticated http downloads)</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the arguments for installation</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>args</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:ro_pw</span>
          <span class="type">(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the read-only or http password for the distribution point for the local machine (http will be used if available, and may not need a pw)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:target</span>
          <span class="type">(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../Pathname.html" title="Pathname (class)">Pathname</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>The drive on which to install the package, defaults to &#39;/&#39;</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:verbose</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>be verbose to stdout, defaults to false</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:feu</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>fill existing users, defaults to false</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:fut</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>fill user template, defaults to false</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:unmount</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>unmount the distribution point when finished?(if we mounted it), defaults to false</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:no_http</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>don&#39;t use http downloads even if they are enabled for the dist. point.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:alt_download_url</span>
          <span class="type">(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>Use this url for an http download, regardless of distribution point settings. This can be used to access Cloud Distribution Points if the fileshare isn&#39;t available. The URL should already be ur The package filename will be removed or appended as needed.</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>did the jamf install succeed?</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="UnsupportedError.html" title="JSS::UnsupportedError (class)">JSS::UnsupportedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975
976
977
978
979
980
981
982
983
984
985
986
987
988
989
990
991
992
993
994
995
996
997
998
999
1000
1001
1002</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 928</span>

<span class='kw'>def</span> <span class='id identifier rubyid_install'>install</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="UnsupportedError.html" title="JSS::UnsupportedError (class)">UnsupportedError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>You must have root privileges to install packages</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_superuser?'><span class='object_link'><a href="../JSS.html#superuser%3F-class_method" title="JSS.superuser? (method)">superuser?</a></span></span>

  <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:target</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_ro_pw'>ro_pw</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:ro_pw</span><span class='rbracket'>]</span>

  <span class='comment'># as of Casper 9.72, with http downloads, the jamf binary requires
</span>  <span class='comment'># the filename must be at the  end of the -path url, but before 9.72
</span>  <span class='comment'># it can&#39;t be.
</span>  <span class='comment'># e.g.
</span>  <span class='comment'>#    in  &lt;9.72:  jamf install  -package foo.pkg -path http://mycasper.myorg.edu/CasperShare/Packages
</span>  <span class='comment'># but
</span>  <span class='comment'>#    in &gt;=9.72:  jamf install  -package foo.pkg -path http://mycasper.myorg.edu/CasperShare/Packages/foo.pkg
</span>  <span class='comment'>#
</span>  <span class='id identifier rubyid_append_at_vers'>append_at_vers</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse_jss_version'><span class='object_link'><a href="../JSS.html#parse_jss_version-class_method" title="JSS.parse_jss_version (method)">parse_jss_version</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>9.72</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:version</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_our_vers'>our_vers</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse_jss_version'><span class='object_link'><a href="../JSS.html#parse_jss_version-class_method" title="JSS.parse_jss_version (method)">parse_jss_version</a></span></span><span class='lparen'>(</span><span class='ivar'>@api</span><span class='period'>.</span><span class='id identifier rubyid_server'>server</span><span class='period'>.</span><span class='id identifier rubyid_raw_version'>raw_version</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:version</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_no_filename_in_url'>no_filename_in_url</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_our_vers'>our_vers</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_append_at_vers'>append_at_vers</span><span class='rparen'>)</span>

  <span class='comment'># use a provided alternative url for an http download
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:alt_download_url</span><span class='rbracket'>]</span>

    <span class='comment'># we&#39;ll re-add the filename below if needed.
</span>    <span class='id identifier rubyid_src_path'>src_path</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:alt_download_url</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='ivar'>@filename</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_using_http'>using_http</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='comment'># use our appropriate dist. point for download
</span>  <span class='kw'>else</span>
    <span class='id identifier rubyid_mdp'>mdp</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DistributionPoint.html" title="JSS::DistributionPoint (class)">DistributionPoint</a></span></span><span class='period'>.</span><span class='id identifier rubyid_my_distribution_point'><span class='object_link'><a href="DistributionPoint.html#my_distribution_point-class_method" title="JSS::DistributionPoint.my_distribution_point (method)">my_distribution_point</a></span></span> <span class='label'>api:</span> <span class='ivar'>@api</span>

    <span class='comment'># how do we access our dist. point? with http?
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_mdp'>mdp</span><span class='period'>.</span><span class='id identifier rubyid_http_downloads_enabled'>http_downloads_enabled</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:no_http</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_using_http'>using_http</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_src_path'>src_path</span> <span class='op'>=</span> <span class='id identifier rubyid_mdp'>mdp</span><span class='period'>.</span><span class='id identifier rubyid_http_url'>http_url</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_mdp'>mdp</span><span class='period'>.</span><span class='id identifier rubyid_username_password_required'>username_password_required</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="MissingDataError.html" title="JSS::MissingDataError (class)">MissingDataError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>No password provided for http download</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_ro_pw'>ro_pw</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'>InvaldDatatError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Incorrect password for http access to distribution point.</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_mdp'>mdp</span><span class='period'>.</span><span class='id identifier rubyid_check_pw'>check_pw</span><span class='lparen'>(</span><span class='symbol'>:http</span><span class='comma'>,</span> <span class='id identifier rubyid_ro_pw'>ro_pw</span><span class='rparen'>)</span>
        <span class='comment'># insert the name and pw into the uri
</span>        <span class='comment'># reserved_chars = Regexp.new(&quot;[^#{URI::REGEXP::PATTERN::UNRESERVED}]&quot;) # we&#39;ll escape all the chars that aren&#39;t unreserved
</span>        <span class='id identifier rubyid_src_path'>src_path</span> <span class='op'>=</span> <span class='id identifier rubyid_src_path'>src_path</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>(https?://)(\S)</span><span class='regexp_end'>}</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'>CGI</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span> <span class='id identifier rubyid_mdp'>mdp</span><span class='period'>.</span><span class='id identifier rubyid_http_username'>http_username</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='const'>CGI</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span> <span class='id identifier rubyid_ro_pw'>ro_pw</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='embexpr_end'>}</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>

    <span class='comment'># or with filesharing?
</span>    <span class='kw'>else</span>
      <span class='id identifier rubyid_using_http'>using_http</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_src_path'>src_path</span> <span class='op'>=</span> <span class='id identifier rubyid_mdp'>mdp</span><span class='period'>.</span><span class='id identifier rubyid_mount'>mount</span><span class='lparen'>(</span><span class='id identifier rubyid_ro_pw'>ro_pw</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='comment'># look at the pkgs folder
</span>    <span class='id identifier rubyid_src_path'>src_path</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="#DIST_POINT_PKGS_FOLDER-constant" title="JSS::Package::DIST_POINT_PKGS_FOLDER (constant)">DIST_POINT_PKGS_FOLDER</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span> <span class='comment'># if args[:alt_download_url]
</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_using_http'>using_http</span>
    <span class='id identifier rubyid_src_path'>src_path</span> <span class='op'>+=</span> <span class='ivar'>@filename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='kw'>unless</span> <span class='id identifier rubyid_no_filename_in_url'>no_filename_in_url</span>
  <span class='kw'>end</span>

  <span class='comment'># are we doing &quot;fill existing users&quot; or &quot;fill user template&quot;?
</span>  <span class='id identifier rubyid_do_feu'>do_feu</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:feu</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-feu</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_do_fut'>do_fut</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:fut</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-fut</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># the install args for jamf
</span>  <span class='id identifier rubyid_command_args'>command_args</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-package &#39;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@filename</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; -path &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_src_path'>src_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;  -target &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:target</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_do_feu'>do_feu</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_do_fut'>do_fut</span><span class='embexpr_end'>}</span><span class='tstring_content'> -showProgress -verbose</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># run it via a client cmd
</span>  <span class='id identifier rubyid_install_out'>install_out</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Client.html" title="JSS::Client (class)">Client</a></span></span><span class='period'>.</span><span class='id identifier rubyid_run_jamf'><span class='object_link'><a href="Client.html#run_jamf-class_method" title="JSS::Client.run_jamf (method)">run_jamf</a></span></span> <span class='symbol'>:install</span><span class='comma'>,</span> <span class='id identifier rubyid_command_args'>command_args</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:verbose</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_install_out'>install_out</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>&lt;exitCode&gt;(\d+)&lt;/exitCode&gt;</span><span class='regexp_end'>}</span></span>
  <span class='id identifier rubyid_install_exit'>install_exit</span> <span class='op'>=</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>:</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_install_exit'>install_exit</span> <span class='op'>||=</span> <span class='gvar'>$CHILD_STATUS</span><span class='period'>.</span><span class='id identifier rubyid_exitstatus'>exitstatus</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='symbol'>:unmount</span>
    <span class='id identifier rubyid_mdp'>mdp</span><span class='period'>.</span><span class='id identifier rubyid_unmount'>unmount</span> <span class='kw'>unless</span> <span class='id identifier rubyid_using_http'>using_http</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_install_exit'>install_exit</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span> <span class='op'>?</span> <span class='kw'>true</span> <span class='op'>:</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="installed?-instance_method">
  
    #<strong>installed?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Is this packaged installed on the current machine (via casper)? We just look for the receipt, which is the @filename less any possible .zip extension.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


610
611
612</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 610</span>

<span class='kw'>def</span> <span class='id identifier rubyid_installed?'>installed?</span>
  <span class='ivar'>@receipt</span><span class='period'>.</span><span class='id identifier rubyid_file?'>file?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name=-instance_method">
  
    #<strong>name=</strong>(newname)  &#x21d2; <tt>void</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Updatable.html#name=-instance_method" title="JSS::Updatable#name= (method)">Updatable</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Change the name of this item Remember to #update to push changes to the server.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>newname</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the new name</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="UnsupportedError.html" title="JSS::UnsupportedError (class)">JSS::UnsupportedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="os_ok?-instance_method">
  
    #<strong>os_ok?</strong>(os = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Is a given OS OK for this package based on its @os_requirements?</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>os</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the os to check, defaults to the os of the current machine.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>can this pkg be installed with the os given?</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


513
514
515</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 513</span>

<span class='kw'>def</span> <span class='id identifier rubyid_os_ok?'>os_ok?</span><span class='lparen'>(</span><span class='id identifier rubyid_os'>os</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_os_ok?'><span class='object_link'><a href="../JSS.html#os_ok%3F-class_method" title="JSS.os_ok? (method)">os_ok?</a></span></span> <span class='ivar'>@os_requirements</span><span class='comma'>,</span> <span class='id identifier rubyid_os'>os</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="processor_ok?-instance_method">
  
    #<strong>processor_ok?</strong>(processor = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Is a given processor OK for this package based on its @required_processor?</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>processor</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the processor to check, defaults to the processor of the current machine.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>can this pkg be installed with the processor given?</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


570
571
572</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 570</span>

<span class='kw'>def</span> <span class='id identifier rubyid_processor_ok?'>processor_ok?</span><span class='lparen'>(</span><span class='id identifier rubyid_processor'>processor</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_processor_ok?'><span class='object_link'><a href="../JSS.html#processor_ok%3F-class_method" title="JSS.processor_ok? (method)">processor_ok?</a></span></span> <span class='ivar'>@required_processor</span><span class='comma'>,</span> <span class='id identifier rubyid_processor'>processor</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reset_checksum-instance_method">
  
    #<strong>reset_checksum</strong>(type: nil, local_file: nil, rw_pw: nil, ro_pw: nil, unmount: true, dist_point: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Using either a local file, or the file on the master dist. point, re-set the checksum for this package. Call #update to save the new one to the JSS.</p>

<p>BE VERY CAREFUL if using a local copy of the file - make sure its identical to the one on the dist point.</p>

<p>This can be used to change the checksum type, and by default will use DEFAULT_CHECKSUM_HASH_TYPE (&#39;SHA_512&#39;)</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>@see</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>calculate_checksum</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 706</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reset_checksum'>reset_checksum</span><span class='lparen'>(</span><span class='label'>type:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>local_file:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>rw_pw:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>ro_pw:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>unmount:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>dist_point:</span> <span class='kw'>nil</span> <span class='rparen'>)</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="#DEFAULT_CHECKSUM_HASH_TYPE-constant" title="JSS::Package::DEFAULT_CHECKSUM_HASH_TYPE (constant)">DEFAULT_CHECKSUM_HASH_TYPE</a></span></span>

  <span class='id identifier rubyid_new_checksum'>new_checksum</span> <span class='op'>=</span> <span class='id identifier rubyid_calculate_checksum'>calculate_checksum</span><span class='lparen'>(</span>
    <span class='label'>type:</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span>
    <span class='label'>local_file:</span> <span class='id identifier rubyid_local_file'>local_file</span><span class='comma'>,</span>
    <span class='label'>rw_pw:</span> <span class='id identifier rubyid_rw_pw'>rw_pw</span><span class='comma'>,</span>
    <span class='label'>ro_pw:</span> <span class='id identifier rubyid_ro_pw'>ro_pw</span><span class='comma'>,</span>
    <span class='label'>unmount:</span> <span class='id identifier rubyid_unmount'>unmount</span><span class='comma'>,</span>
    <span class='label'>dist_point:</span> <span class='id identifier rubyid_dist_point'>dist_point</span>
  <span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@checksum</span> <span class='op'>==</span> <span class='id identifier rubyid_new_checksum'>new_checksum</span>

  <span class='ivar'>@checksum_type</span> <span class='op'>=</span> <span class='id identifier rubyid_type'>type</span>
  <span class='ivar'>@checksum</span> <span class='op'>=</span> <span class='id identifier rubyid_new_checksum'>new_checksum</span>
  <span class='ivar'>@need_to_update</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="type-instance_method">
  
    #<strong>type</strong>  &#x21d2; <tt>Symbol</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>What type of package is this?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>:pkg or :dmg or:unknown</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1045
1046
1047
1048
1049
1050
1051</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 1045</span>

<span class='kw'>def</span> <span class='id identifier rubyid_type'>type</span>
  <span class='kw'>case</span> <span class='ivar'>@filename</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.m?pkg(\.zip)?$</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span> <span class='symbol'>:pkg</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.dmg$</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span> <span class='symbol'>:dmg</span>
  <span class='kw'>else</span> <span class='symbol'>:unknown</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="uninstall-instance_method">
  
    #<strong>uninstall</strong>(args = {})  &#x21d2; <tt>Process::Status</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This code must be run as root to uninstall packages</p>
</div>
  </div>


<p>Uninstall this pkg via the jamf command.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the arguments for installation</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>args</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:target</span>
          <span class="type">(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../Pathname.html" title="Pathname (class)">Pathname</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>The drive from which to uninstall the package, defaults to &#39;/&#39;</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:verbose</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>be verbose to stdout, defaults to false</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:feu</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>fill existing users, defaults to false</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:fut</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>fill user template, defaults to false</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Process::Status</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the result of the &#39;jamf uninstall&#39; command</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="UnsupportedError.html" title="JSS::UnsupportedError (class)">JSS::UnsupportedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1020
1021
1022
1023
1024
1025
1026
1027
1028
1029
1030
1031
1032
1033
1034
1035
1036
1037
1038
1039</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 1020</span>

<span class='kw'>def</span> <span class='id identifier rubyid_uninstall'>uninstall</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_removable?'>removable?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="UnsupportedError.html" title="JSS::UnsupportedError (class)">UnsupportedError</a></span></span><span class='comma'>,</span> \
          <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This package cannot be uninstalled. Please use CasperAdmin to index it and allow uninstalls</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="UnsupportedError.html" title="JSS::UnsupportedError (class)">UnsupportedError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>You must have root privileges to uninstall packages</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_superuser?'><span class='object_link'><a href="../JSS.html#superuser%3F-class_method" title="JSS.superuser? (method)">superuser?</a></span></span>
  <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:target</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># are we doing &quot;fill existing users&quot; or &quot;fill user template&quot;?
</span>  <span class='id identifier rubyid_do_feu'>do_feu</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:feu</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-feu</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_do_fut'>do_fut</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:fut</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-fut</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># use jamf binary to uninstall the pkg
</span>  <span class='id identifier rubyid_jamf_opts'>jamf_opts</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-target &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:target</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; -id &#39;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@id</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_do_feu'>do_feu</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_do_fut'>do_fut</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># run it via a client
</span>  <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Client.html" title="JSS::Client (class)">Client</a></span></span><span class='period'>.</span><span class='id identifier rubyid_run_jamf'><span class='object_link'><a href="Client.html#run_jamf-class_method" title="JSS::Client.run_jamf (method)">run_jamf</a></span></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uninstall</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_jamf_opts'>jamf_opts</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:verbose</span><span class='rbracket'>]</span>

  <span class='gvar'>$CHILD_STATUS</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unset_category-instance_method">
  
    #<strong>unset_category</strong>  &#x21d2; <tt>void</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Categorizable.html#unset_category-instance_method" title="JSS::Categorizable#unset_category (method)">Categorizable</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Set the category to nothing</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update-instance_method">
  
    #<strong>update</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Updatable.html#update-instance_method" title="JSS::Updatable#update (method)">Updatable</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Save changes to the JSS</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>success</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="UnsupportedError.html" title="JSS::UnsupportedError (class)">JSS::UnsupportedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_master_filename-instance_method">
  
    #<strong>update_master_filename</strong>(old_file_name, new_file_name, rw_pw, unmount = true, dist_point: nil)  &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Change the name of a package file on the master distribution point.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>new_file_name</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>old_file_name</span>
      
      
        <span class='type'>(<tt>default: @<span class='object_link'><a href="#filename-instance_method" title="JSS::Package#filename (method)">filename</a></span></tt>, <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>unmount</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>whether or not ot unount the distribution point when finished.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>rw_pw</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the password for the read/write account on the master Distribution Point, or :prompt, or :stdin# where # is the line of stdin containing the password See <span class='object_link'><a href="DistributionPoint.html#mount-instance_method" title="JSS::DistributionPoint#mount (method)">DistributionPoint#mount</a></span></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>dist_point</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the name or id of the distribution point to use. Defaults to the Master Dist. Point</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="NoSuchItemError.html" title="JSS::NoSuchItemError (class)">JSS::NoSuchItemError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 821</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_master_filename'>update_master_filename</span><span class='lparen'>(</span><span class='id identifier rubyid_old_file_name'>old_file_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_file_name'>new_file_name</span><span class='comma'>,</span> <span class='id identifier rubyid_rw_pw'>rw_pw</span><span class='comma'>,</span> <span class='id identifier rubyid_unmount'>unmount</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>dist_point:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="NoSuchItemError.html" title="JSS::NoSuchItemError (class)">NoSuchItemError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_file_name'>old_file_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not exist in the jss.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='ivar'>@in_jss</span>
  <span class='id identifier rubyid_dp'>dp</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_fetch_dist_point'>fetch_dist_point</span><span class='lparen'>(</span><span class='id identifier rubyid_dist_point'>dist_point</span><span class='comma'>,</span> <span class='label'>api:</span> <span class='ivar'>@api</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_pkgs_dir'>pkgs_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_dp'>dp</span><span class='period'>.</span><span class='id identifier rubyid_mount'>mount</span><span class='lparen'>(</span><span class='id identifier rubyid_rw_pw'>rw_pw</span><span class='comma'>,</span> <span class='symbol'>:rw</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='const'><span class='object_link'><a href="#DIST_POINT_PKGS_FOLDER-constant" title="JSS::Package::DIST_POINT_PKGS_FOLDER (constant)">DIST_POINT_PKGS_FOLDER</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_s'><span class='object_link'><a href="APIObject.html#to_s-instance_method" title="JSS::APIObject#to_s (method)">to_s</a></span></span>
  <span class='id identifier rubyid_old_file'>old_file</span> <span class='op'>=</span> <span class='id identifier rubyid_pkgs_dir'>pkgs_dir</span> <span class='op'>+</span> <span class='id identifier rubyid_old_file_name'>old_file_name</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="NoSuchItemError.html" title="JSS::NoSuchItemError (class)">NoSuchItemError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>File not found on the master distribution point at </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="#DIST_POINT_PKGS_FOLDER-constant" title="JSS::Package::DIST_POINT_PKGS_FOLDER (constant)">DIST_POINT_PKGS_FOLDER</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_file_name'>old_file_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> \
    <span class='id identifier rubyid_old_file'>old_file</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>

  <span class='id identifier rubyid_new_file'>new_file</span> <span class='op'>=</span> <span class='id identifier rubyid_pkgs_dir'>pkgs_dir</span> <span class='op'>+</span> <span class='id identifier rubyid_new_file_name'>new_file_name</span>
  <span class='comment'># use the extension of the original file.
</span>  <span class='id identifier rubyid_new_file'>new_file</span> <span class='op'>=</span> <span class='id identifier rubyid_pkgs_dir'>pkgs_dir</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='id identifier rubyid_new_file_name'>new_file_name</span> <span class='op'>+</span> <span class='id identifier rubyid_old_file'>old_file</span><span class='period'>.</span><span class='id identifier rubyid_extname'>extname</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_new_file'>new_file</span><span class='period'>.</span><span class='id identifier rubyid_extname'>extname</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_old_file'>old_file</span><span class='period'>.</span><span class='id identifier rubyid_rename'>rename</span> <span class='id identifier rubyid_new_file'>new_file</span>
  <span class='id identifier rubyid_dp'>dp</span><span class='period'>.</span><span class='id identifier rubyid_unmount'>unmount</span> <span class='kw'>if</span> <span class='id identifier rubyid_unmount'>unmount</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="upload_master_file-instance_method">
  
    #<strong>upload_master_file</strong>(local_file_path, rw_pw, unmount = true, chksum: DEFAULT_CHECKSUM_HASH_TYPE, dist_point: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Upload a locally-readable file to the master distribution point. If the file is a directory (like a bundle .pk/.mpkg) it will be zipped before uploading and the @filename will be adjusted accordingly by adding a .zip extension</p>

<p>The name of the local file doesn&#39;t matter, the file on the dist. point will use the @filename (possibly with .zip)</p>

<p>If you&#39;ll be uploading several files you can specify unmount as false, and do it manually when all are finished with JSS::DistributionPoint.master_distribution_point.unmount</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>local_file_path</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../Pathname.html" title="Pathname (class)">Pathname</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the local path to the file to be uploaded</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>rw_pw</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the password for the read/write account on the master Distribution Point, or :prompt, or :stdin# where # is the line of stdin containing the password See <span class='object_link'><a href="DistributionPoint.html#mount-instance_method" title="JSS::DistributionPoint#mount (method)">DistributionPoint#mount</a></span></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unmount</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>whether or not ot unount the distribution point when finished.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>chksum</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>DEFAULT_CHECKSUM_HASH_TYPE</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the constants CHECKSUM_HASH_TYPE_SHA512 or CHECKSUM_HASH_TYPE_MD5. Anything else means don&#39;t calc.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>dist_point</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the name or id of the distribution point to use. Defaults to the Master Dist. Point</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="NoSuchItemError.html" title="JSS::NoSuchItemError (class)">JSS::NoSuchItemError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/package.rb', line 639</span>

<span class='kw'>def</span> <span class='id identifier rubyid_upload_master_file'>upload_master_file</span><span class='lparen'>(</span><span class='id identifier rubyid_local_file_path'>local_file_path</span><span class='comma'>,</span> <span class='id identifier rubyid_rw_pw'>rw_pw</span><span class='comma'>,</span> <span class='id identifier rubyid_unmount'>unmount</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>chksum:</span> <span class='const'><span class='object_link'><a href="#DEFAULT_CHECKSUM_HASH_TYPE-constant" title="JSS::Package::DEFAULT_CHECKSUM_HASH_TYPE (constant)">DEFAULT_CHECKSUM_HASH_TYPE</a></span></span><span class='comma'>,</span> <span class='label'>dist_point:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="NoSuchItemError.html" title="JSS::NoSuchItemError (class)">NoSuchItemError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Please create this package in the JSS before uploading it.</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='ivar'>@in_jss</span>

  <span class='id identifier rubyid_dp'>dp</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_fetch_dist_point'>fetch_dist_point</span><span class='lparen'>(</span><span class='id identifier rubyid_dist_point'>dist_point</span><span class='comma'>,</span> <span class='label'>api:</span> <span class='ivar'>@api</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_destination'>destination</span> <span class='op'>=</span> <span class='id identifier rubyid_dp'>dp</span><span class='period'>.</span><span class='id identifier rubyid_mount'>mount</span><span class='lparen'>(</span><span class='id identifier rubyid_rw_pw'>rw_pw</span><span class='comma'>,</span> <span class='symbol'>:rw</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="#DIST_POINT_PKGS_FOLDER-constant" title="JSS::Package::DIST_POINT_PKGS_FOLDER (constant)">DIST_POINT_PKGS_FOLDER</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='ivar'>@filename</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_local_path'>local_path</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_local_file_path'>local_file_path</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="NoSuchItemError.html" title="JSS::NoSuchItemError (class)">NoSuchItemError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Local file &#39;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@local_file</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; doesn&#39;t exist</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_local_path'>local_path</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>

  <span class='comment'># should we zip it?
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_local_path'>local_path</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>
    <span class='kw'>begin</span>
      <span class='comment'># go to the same dir as the local file
</span>      <span class='id identifier rubyid_wd'>wd</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span>
      <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_chdir'>chdir</span> <span class='id identifier rubyid_local_path'>local_path</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span>

      <span class='comment'># the contents of the zip file have to have the same name as the zip file itself (minus the .zip)
</span>      <span class='comment'># so temporarily rename the source
</span>      <span class='id identifier rubyid_local_path_to_upload'>local_path_to_upload</span> <span class='op'>=</span> <span class='id identifier rubyid_local_path'>local_path</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span> <span class='op'>+</span> <span class='ivar'>@filename</span>
      <span class='id identifier rubyid_local_path'>local_path</span><span class='period'>.</span><span class='id identifier rubyid_rename'>rename</span> <span class='id identifier rubyid_local_path_to_upload'>local_path_to_upload</span> <span class='kw'>unless</span> <span class='id identifier rubyid_local_path_to_upload'>local_path_to_upload</span> <span class='op'>==</span> <span class='id identifier rubyid_local_path'>local_path</span>

      <span class='id identifier rubyid_zipdir'>zipdir</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/rubyjsstmp-</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../Time.html" title="Time (class)">Time</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%Y%m%d%H%M%S</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='gvar'>$PROCESS_ID</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_zipdir'>zipdir</span><span class='period'>.</span><span class='id identifier rubyid_mkpath'>mkpath</span>
      <span class='id identifier rubyid_zipdir'>zipdir</span><span class='period'>.</span><span class='id identifier rubyid_chmod'>chmod</span> <span class='int'>0o700</span>
      <span class='id identifier rubyid_zipfile'>zipfile</span> <span class='op'>=</span> <span class='id identifier rubyid_zipdir'>zipdir</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='id identifier rubyid_local_path_to_upload'>local_path_to_upload</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.zip</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>There was a problem zipping the pkg bundle</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/usr/bin/zip -qr &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_zipfile'>zipfile</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_local_path_to_upload'>local_path_to_upload</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>ensure</span>
      <span class='comment'># rename the source to the original name
</span>      <span class='id identifier rubyid_local_path_to_upload'>local_path_to_upload</span><span class='period'>.</span><span class='id identifier rubyid_rename'>rename</span> <span class='id identifier rubyid_local_path'>local_path</span> <span class='kw'>if</span> <span class='id identifier rubyid_local_path_to_upload'>local_path_to_upload</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_local_path_to_upload'>local_path_to_upload</span> <span class='op'>!=</span> <span class='id identifier rubyid_local_path'>local_path</span>
      <span class='comment'># go back where we started
</span>      <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_chdir'>chdir</span> <span class='id identifier rubyid_wd'>wd</span>
    <span class='kw'>end</span> <span class='comment'># begin
</span>
    <span class='comment'># update our info
</span>    <span class='id identifier rubyid_local_path'>local_path</span> <span class='op'>=</span> <span class='id identifier rubyid_zipfile'>zipfile</span>
    <span class='id identifier rubyid_destination'>destination</span> <span class='op'>=</span> <span class='id identifier rubyid_destination'>destination</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.zip</span><span class='tstring_end'>&#39;</span></span>
    <span class='ivar'>@filename</span> <span class='op'>=</span> <span class='id identifier rubyid_zipfile'>zipfile</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='ivar'>@need_to_update</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span> <span class='comment'># if directory
</span>
  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_copy_entry'>copy_entry</span> <span class='id identifier rubyid_local_path'>local_path</span><span class='comma'>,</span> <span class='id identifier rubyid_destination'>destination</span>

  <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="#CHECKSUM_HASH_TYPES-constant" title="JSS::Package::CHECKSUM_HASH_TYPES (constant)">CHECKSUM_HASH_TYPES</a></span></span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_chksum'>chksum</span>
    <span class='ivar'>@checksum_type</span> <span class='op'>=</span> <span class='id identifier rubyid_chksum'>chksum</span>
    <span class='ivar'>@checksum</span> <span class='op'>=</span> <span class='id identifier rubyid_calculate_checksum'>calculate_checksum</span> <span class='label'>local_file:</span> <span class='id identifier rubyid_local_path'>local_path</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='id identifier rubyid_chksum'>chksum</span><span class='comma'>,</span> <span class='label'>unmount:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>dist_point:</span> <span class='id identifier rubyid_dist_point'>dist_point</span>
    <span class='ivar'>@need_to_update</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_update'>update</span> <span class='kw'>if</span> <span class='ivar'>@need_to_update</span>
  <span class='id identifier rubyid_dp'>dp</span><span class='period'>.</span><span class='id identifier rubyid_unmount'>unmount</span> <span class='kw'>if</span> <span class='id identifier rubyid_unmount'>unmount</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Feb  2 11:06:03 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.25 (ruby-2.6.3).
</div>

    </div>
  </body>
</html>
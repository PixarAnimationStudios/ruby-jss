<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: JSS::Extendable
  
    &mdash; ruby-jss-1.3.3
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "JSS::Extendable";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (E)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span>
     &raquo; 
    <span class="title">Extendable</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: JSS::Extendable
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="Computer.html" title="JSS::Computer (class)">Computer</a></span>, <span class='object_link'><a href="MobileDevice.html" title="JSS::MobileDevice (class)">MobileDevice</a></span>, <span class='object_link'><a href="User.html" title="JSS::User (class)">User</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/jss/api_object/extendable.rb<span class="defines">,<br />
  lib/jss.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A mix-in module for handling extension attribute data for objects in the
JSS.</p>

<p>This module provides standardized ways to deal with Extension Attribute
data in objects that gather that data  (<span class='object_link'><a href="Computer.html" title="JSS::Computer (class)">Computer</a></span>s,
<span class='object_link'><a href="MobileDevice.html" title="JSS::MobileDevice (class)">MobileDevice</a></span>s, and <span class='object_link'><a href="User.html" title="JSS::User (class)">User</a></span>s). For working with the Extension
Attributes themselves, see <span class='object_link'><a href="ExtensionAttribute.html" title="JSS::ExtensionAttribute (class)">ExtensionAttribute</a></span> and its subclasses.</p>

<p>API objects that have Extension Attribute data return it in an Array of
Hashes, one for each defined ExtensionAttribute for the class; i.e. a
<span class='object_link'><a href="Computer.html" title="JSS::Computer (class)">Computer</a></span>&#39;s Array has one Hash for each
<span class='object_link'><a href="ComputerExtensionAttribute.html" title="JSS::ComputerExtensionAttribute (class)">ComputerExtensionAttribute</a></span> defined in the JSS.</p>

<p>The Hash keys are:</p>
<ul><li>
<p>:id =&gt; the ExtAttr id</p>
</li><li>
<p>:name =&gt; the ExtAttr name</p>
</li><li>
<p>:type =&gt; the data type of the ExtAttr value</p>
</li><li>
<p>:value =&gt; the value for the ExtAttr for this object as of the last
report.</p>
</li></ul>

<p>Classes including this module must define the constant EXT_ATTRIB_CLASS
specifying which <span class='object_link'><a href="ExtensionAttribute.html" title="JSS::ExtensionAttribute (class)">ExtensionAttribute</a></span> subclass defines the relevant
extension attributes. For Example, <span class='object_link'><a href="Computer.html" title="JSS::Computer (class)">Computer</a></span> sets this:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>EXT_ATTRIB_CLASS</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="ComputerExtensionAttribute.html" title="JSS::ComputerExtensionAttribute (class)">ComputerExtensionAttribute</a></span></span>
</code></pre>

<p>Parsing also populates @ext_attrs which is a Hash of name =&gt; value for
each EA.</p>

<p>When updating or creating, those classes must add the REXML output of
<span class='object_link'><a href="#ext_attr_xml-instance_method" title="JSS::Extendable#ext_attr_xml (method)">#ext_attr_xml</a></span> to their rest_xml output.</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="EXTENDABLE-constant" class="">EXTENDABLE =
          <div class="docstring">
  <div class="discussion">
    
<p>Constants</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='kw'>true</span></pre></dd>
      
        <dt id="INVALID_DATE-constant" class="">INVALID_DATE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-- INVALIDLY FORMATTED DATE --</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#extension_attributes-instance_method" title="#extension_attributes (instance method)">#<strong>extension_attributes</strong>  &#x21d2; Array&lt;Hash&gt; </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The extension attribute values for the object.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ea_names-instance_method" title="#ea_names (instance method)">#<strong>ea_names</strong>  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The names of all known EAs.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ea_types-instance_method" title="#ea_types (instance method)">#<strong>ea_types</strong>  &#x21d2; Hash{String =&gt; String} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>EA names =&gt; data type (one of &#39;String&#39;, &#39;Number&#39;, or
&#39;Date&#39;).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ext_attr_xml-instance_method" title="#ext_attr_xml (instance method)">#<strong>ext_attr_xml</strong>  &#x21d2; REXML::Element </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>TODO: make this (and all XML amending) method take the in-progress XML doc
and add (or not) the EA xml to it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ext_attrs-instance_method" title="#ext_attrs (instance method)">#<strong>ext_attrs</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>An easier-to-use hash of EA name to EA value.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse_ext_attrs-instance_method" title="#parse_ext_attrs (instance method)">#<strong>parse_ext_attrs</strong>  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Populate @extension_attributes (the Array of Hashes that comes from the
API) and @ext_attr_names, which is a Hash mapping the EA names to their
values.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_ext_attr-instance_method" title="#set_ext_attr (instance method)">#<strong>set_ext_attr</strong>(ea_name, value, validate_popup_choice: true, refresh: false)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set the value of an extension attribute.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unsaved_eas%3F-instance_method" title="#unsaved_eas? (instance method)">#<strong>unsaved_eas?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>are there any changes in the EAs needing to be saved?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validate_ea_value-instance_method" title="#validate_ea_value (instance method)">#<strong>validate_ea_value</strong>(ea_name, value, validate_popup_choice, refresh)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>is the value being passed to set_ext_attr valid? Converts values as needed
(e.g. strings to integers or Times).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validate_integer_ea_value-instance_method" title="#validate_integer_ea_value (instance method)">#<strong>validate_integer_ea_value</strong>(ea_name, value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>raise error if the value isn&#39;t an integer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validate_popup_value-instance_method" title="#validate_popup_value (instance method)">#<strong>validate_popup_value</strong>(ea_name, value, refresh)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Raise an error if the named EA has a popup menu, but the provided value
isn&#39;t one of the menu items.</p>
</div></span>
  
</li>

      
    </ul>
  


  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="extension_attributes-instance_method">
  
    #<strong>extension_attributes</strong>  &#x21d2; <tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../Hash.html" title="Hash (class)">Hash</a></span>&gt;</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns The extension attribute values for the object</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../Hash.html" title="Hash (class)">Hash</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The extension attribute values for the object</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


74
75
76</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/extendable.rb', line 74</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extension_attributes'>extension_attributes</span>
  <span class='ivar'>@extension_attributes</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="ea_names-instance_method">
  
    #<strong>ea_names</strong>  &#x21d2; <tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the names of all known EAs</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the names of all known EAs</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/extendable.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ea_names'>ea_names</span>
  <span class='id identifier rubyid_ea_types'>ea_types</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ea_types-instance_method">
  
    #<strong>ea_types</strong>  &#x21d2; <tt><span class='object_link'><a href="../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../String.html" title="String (class)">String</a></span> =&gt; <span class='object_link'><a href="../String.html" title="String (class)">String</a></span>}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns EA names =&gt; data type (one of &#39;String&#39;,
&#39;Number&#39;, or &#39;Date&#39;)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../String.html" title="String (class)">String</a></span> =&gt; <span class='object_link'><a href="../String.html" title="String (class)">String</a></span>}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>EA names =&gt; data type (one of &#39;String&#39;, &#39;Number&#39;, or
&#39;Date&#39;)</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105
106
107
108
109</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/extendable.rb', line 103</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ea_types'>ea_types</span>
  <span class='kw'>return</span> <span class='ivar'>@ea_types</span> <span class='kw'>if</span> <span class='ivar'>@ea_types</span>

  <span class='ivar'>@ea_types</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_extension_attributes'>extension_attributes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ea'>ea</span><span class='op'>|</span> <span class='ivar'>@ea_types</span><span class='lbracket'>[</span><span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
  <span class='ivar'>@ea_types</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ext_attr_xml-instance_method">
  
    #<strong>ext_attr_xml</strong>  &#x21d2; <tt>REXML::Element</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>TODO: make this (and all XML amending) method take the in-progress XML doc
and add (or not) the EA xml to it. See how Sitable#add_site_to_xml works,
as called from Computer.rest_xml</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>REXML::Element</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An &lt;extension_attribute&gt; element to be included in the rest_xml of
objects that mix-in this module.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/extendable.rb', line 219</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ext_attr_xml'>ext_attr_xml</span>
  <span class='ivar'>@changed_eas</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_eaxml'>eaxml</span> <span class='op'>=</span> <span class='const'>REXML</span><span class='op'>::</span><span class='const'>Element</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>extension_attributes</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='ivar'>@extension_attributes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ea'>ea</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='ivar'>@changed_eas</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_ea_el'>ea_el</span> <span class='op'>=</span> <span class='id identifier rubyid_eaxml'>eaxml</span><span class='period'>.</span><span class='id identifier rubyid_add_element'>add_element</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>extension_attribute</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_ea_el'>ea_el</span><span class='period'>.</span><span class='id identifier rubyid_add_element'>add_element</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Date</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_ea_el'>ea_el</span><span class='period'>.</span><span class='id identifier rubyid_add_element'>add_element</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:value</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_jss_date'>to_jss_date</span>
      <span class='kw'>rescue</span>
        <span class='id identifier rubyid_ea_el'>ea_el</span><span class='period'>.</span><span class='id identifier rubyid_add_element'>add_element</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:value</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_ea_el'>ea_el</span><span class='period'>.</span><span class='id identifier rubyid_add_element'>add_element</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:value</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>end</span> <span class='comment'># if
</span>  <span class='kw'>end</span> <span class='comment'># each do ea
</span>
  <span class='id identifier rubyid_eaxml'>eaxml</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ext_attrs-instance_method">
  
    #<strong>ext_attrs</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>An easier-to-use hash of EA name to EA value. This isn&#39;t created until
its needed, to speed up instantiation.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/extendable.rb', line 114</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ext_attrs'>ext_attrs</span>
  <span class='kw'>return</span> <span class='ivar'>@ext_attrs</span> <span class='kw'>if</span> <span class='ivar'>@ext_attrs</span>

  <span class='ivar'>@ext_attrs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@extension_attributes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ea'>ea</span><span class='op'>|</span>
    <span class='ivar'>@ext_attrs</span><span class='lbracket'>[</span><span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='op'>=</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span>

      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Date</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>begin</span> <span class='comment'># if there&#39;s random non-date data, the parse will fail
</span>          <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse_datetime'><span class='object_link'><a href="../JSS.html#parse_datetime-class_method" title="JSS.parse_datetime (method)">parse_datetime</a></span></span> <span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:value</span><span class='rbracket'>]</span>
        <span class='kw'>rescue</span>
          <span class='const'><span class='object_link'><a href="#INVALID_DATE-constant" title="JSS::Extendable::INVALID_DATE (constant)">INVALID_DATE</a></span></span>
        <span class='kw'>end</span>

      <span class='kw'>when</span> <span class='op'>*</span><span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="ExtensionAttribute.html" title="JSS::ExtensionAttribute (class)">ExtensionAttribute</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="ExtensionAttribute.html#NUMERIC_TYPES-constant" title="JSS::ExtensionAttribute::NUMERIC_TYPES (constant)">NUMERIC_TYPES</a></span></span>
        <span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:value</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>unless</span> <span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:value</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

      <span class='kw'>else</span> <span class='comment'># String
</span>        <span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:value</span><span class='rbracket'>]</span>
      <span class='kw'>end</span> <span class='comment'># case
</span>  <span class='kw'>end</span> <span class='comment'># each do ea
</span>
  <span class='ivar'>@ext_attrs</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse_ext_attrs-instance_method">
  
    #<strong>parse_ext_attrs</strong>  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Populate @extension_attributes (the Array of Hashes that comes from the
API) and @ext_attr_names, which is a Hash mapping the EA names to their
values. This is called during initialization for all objects that mix in
this module</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88
89
90
91
92
93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/extendable.rb', line 86</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_ext_attrs'>parse_ext_attrs</span>
  <span class='ivar'>@extension_attributes</span> <span class='op'>=</span> <span class='ivar'>@init_data</span><span class='lbracket'>[</span><span class='symbol'>:extension_attributes</span><span class='rbracket'>]</span>
  <span class='ivar'>@extension_attributes</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='comment'># remember changes as they happen so
</span>  <span class='comment'># we only send changes back to the server.
</span>  <span class='ivar'>@changed_eas</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_ext_attr-instance_method">
  
    #<strong>set_ext_attr</strong>(ea_name, value, validate_popup_choice: true, refresh: false)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Set the value of an extension attribute</p>

<p>The new value is validated based on the data type of the Ext. Attrib:</p>
<ul><li>
<p>If the ext. attrib. is defined with a data type of Integer/Number, the
value must be an Integer.</p>
</li><li>
<p>If defined with a data type of Date, the value will be parsed as a
timestamp, and parsing may raise an exception. Dates can&#39;t be blank.</p>
</li><li>
<p>If defined wth data type of String, `to_s` will be called on the value.</p>
</li></ul>

<p>By default, the full EA definition object is fetched to see if the EA&#39;s
input type is &#39;popup menu&#39;, and if so, the new value must be one of
the defined popup choices, or blank.</p>

<p>The EA definitions used for popup validation are cached, so we don&#39;t
have to reach out to the server every time. If you expect the definition to
have changed since it was cached, provide a truthy value to the refresh:
parameter</p>

<p>To bypass popup validation complepletely, provide a falsey value to the
validate_popup_choice: parameter. WARNING: beware that your value is the
correct type and format, or you might get errors when saving back to the
API.</p>

<p>Note that while the Jamf Pro Web interface does not allow editing the
values of Extension Attributes populated by Scripts or LDAP,  the API does
allow it. Bear in mind however that those values will be reset again at the
next recon.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the extension attribute to set</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../Time.html" title="Time (class)">Time</a></span></tt>, <tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the new value for the extension attribute for this user</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>validate_popup_choice</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>validate the new value against the E.A. definition. Defaults to true.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>refresh</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Re-read the ext. attrib definition from the API, for popup validation.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/extendable.rb', line 183</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_ext_attr'>set_ext_attr</span><span class='lparen'>(</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='label'>validate_popup_choice:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>refresh:</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown Extension Attribute Name: &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_ea_types'>ea_types</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span> <span class='id identifier rubyid_ea_name'>ea_name</span>

  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_validate_ea_value'>validate_ea_value</span><span class='lparen'>(</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_validate_popup_choice'>validate_popup_choice</span><span class='comma'>,</span> <span class='id identifier rubyid_refresh'>refresh</span><span class='rparen'>)</span>

  <span class='comment'># update this ea hash in the @extension_attributes array
</span>  <span class='id identifier rubyid_ea_hash'>ea_hash</span> <span class='op'>=</span> <span class='ivar'>@extension_attributes</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ea'>ea</span><span class='op'>|</span> <span class='id identifier rubyid_ea'>ea</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_ea_name'>ea_name</span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="NoSuchItemError.html" title="JSS::NoSuchItemError (class)">NoSuchItemError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;(id </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'>) does not know about ExtAttr &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;. Please re-fetch and try again.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_ea_hash'>ea_hash</span>

  <span class='id identifier rubyid_ea_hash'>ea_hash</span><span class='lbracket'>[</span><span class='symbol'>:value</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>

  <span class='comment'># update the shortcut hash too
</span>  <span class='ivar'>@ext_attrs</span><span class='lbracket'>[</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span> <span class='kw'>if</span> <span class='ivar'>@ext_attrs</span>
  <span class='ivar'>@changed_eas</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_ea_name'>ea_name</span>
  <span class='ivar'>@need_to_update</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unsaved_eas?-instance_method">
  
    #<strong>unsaved_eas?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>are there any changes in the EAs needing to be saved?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


205
206
207</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/extendable.rb', line 205</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unsaved_eas?'>unsaved_eas?</span>
  <span class='ivar'>@need_to_update</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@changed_eas</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='ivar'>@changed_eas</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validate_ea_value-instance_method">
  
    #<strong>validate_ea_value</strong>(ea_name, value, validate_popup_choice, refresh)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>is the value being passed to set_ext_attr valid? Converts values as needed
(e.g. strings to integers or Times)</p>

<p>If the EA is defined to hold a string, any value is accepted and converted
with #to_s</p>

<p>Note: All EAs can be blank</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the extension attribute to set</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../Time.html" title="Time (class)">Time</a></span></tt>, <tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the new value for the extension attribute for this user</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>validate_popup_choice</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>validate the new value against the E.A. definition. Defaults to true.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>refresh</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Re-read the ext. attrib definition from the API, for popup validation.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the possibly modified valid value</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/extendable.rb', line 262</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_ea_value'>validate_ea_value</span><span class='lparen'>(</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_validate_popup_choice'>validate_popup_choice</span><span class='comma'>,</span> <span class='id identifier rubyid_refresh'>refresh</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../JSS.html#BLANK-constant" title="JSS::BLANK (constant)">BLANK</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../JSS.html#BLANK-constant" title="JSS::BLANK (constant)">BLANK</a></span></span>

  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_ea_types'>ea_types</span><span class='lbracket'>[</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='rbracket'>]</span>
    <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="ExtensionAttribute.html" title="JSS::ExtensionAttribute (class)">ExtensionAttribute</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="ExtensionAttribute.html#DATA_TYPE_DATE-constant" title="JSS::ExtensionAttribute::DATA_TYPE_DATE (constant)">DATA_TYPE_DATE</a></span></span>
      <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse_datetime'><span class='object_link'><a href="../JSS.html#parse_datetime-class_method" title="JSS.parse_datetime (method)">parse_datetime</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>when</span> <span class='op'>*</span><span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="ExtensionAttribute.html" title="JSS::ExtensionAttribute (class)">ExtensionAttribute</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="ExtensionAttribute.html#NUMERIC_TYPES-constant" title="JSS::ExtensionAttribute::NUMERIC_TYPES (constant)">NUMERIC_TYPES</a></span></span>
      <span class='id identifier rubyid_validate_integer_ea_value'>validate_integer_ea_value</span> <span class='id identifier rubyid_ea_name'>ea_name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>end</span> <span class='comment'># case
</span>
  <span class='id identifier rubyid_validate_popup_value'>validate_popup_value</span><span class='lparen'>(</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_refresh'>refresh</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_validate_popup_choice'>validate_popup_choice</span>

  <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validate_integer_ea_value-instance_method">
  
    #<strong>validate_integer_ea_value</strong>(ea_name, value)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>raise error if the value isn&#39;t an integer</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


281
282
283
284
285
286
287
288
289</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/extendable.rb', line 281</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_integer_ea_value'>validate_integer_ea_value</span><span class='lparen'>(</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Integer</span>
    <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_jss_integer?'>jss_integer?</span>
    <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="InvalidDataError.html" title="JSS::InvalidDataError (class)">InvalidDataError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The value for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> must be an integer</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span> <span class='comment'># if
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validate_popup_value-instance_method">
  
    #<strong>validate_popup_value</strong>(ea_name, value, refresh)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Raise an error if the named EA has a popup menu, but the provided value
isn&#39;t one of the menu items</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="UnsupportedError.html" title="JSS::UnsupportedError (class)">JSS::UnsupportedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


294
295
296
297
298
299
300
301
302
303
304
305
306</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/extendable.rb', line 294</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_popup_value'>validate_popup_value</span><span class='lparen'>(</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_refresh'>refresh</span><span class='rparen'>)</span>
  <span class='comment'># get the ea def. instance from the api cache, or the api
</span>  <span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_ext_attr_definition_cache'>ext_attr_definition_cache</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_ext_attr_definition_cache'>ext_attr_definition_cache</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_refresh'>refresh</span>
  <span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_ext_attr_definition_cache'>ext_attr_definition_cache</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='op'>::</span><span class='const'>EXT_ATTRIB_CLASS</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span> <span class='label'>name:</span> <span class='id identifier rubyid_ea_name'>ea_name</span><span class='comma'>,</span> <span class='label'>api:</span> <span class='id identifier rubyid_api'>api</span>

  <span class='id identifier rubyid_ea_def'>ea_def</span> <span class='op'>=</span> <span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_ext_attr_definition_cache'>ext_attr_definition_cache</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_ea_def'>ea_def</span><span class='period'>.</span><span class='id identifier rubyid_from_popup_menu?'>from_popup_menu?</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_ea_def'>ea_def</span><span class='period'>.</span><span class='id identifier rubyid_popup_choices'>popup_choices</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="UnsupportedError.html" title="JSS::UnsupportedError (class)">UnsupportedError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The value for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ea_name'>ea_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> must be one of: &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ea_def'>ea_def</span><span class='period'>.</span><span class='id identifier rubyid_popup_choices'>popup_choices</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39; &#39;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Aug  7 11:26:23 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.20 (ruby-2.3.7).
</div>

    </div>
  </body>
</html>
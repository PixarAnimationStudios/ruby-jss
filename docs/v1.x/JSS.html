<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: JSS
  
    &mdash; ruby-jss-1.3.3
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "JSS";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (J)</a> &raquo;
    
    
    <span class="title">JSS</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: JSS
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/jss.rb<span class="defines">,<br />
  lib/jss/client.rb,<br /> lib/jss/server.rb,<br /> lib/jss/utility.rb,<br /> lib/jss/version.rb,<br /> lib/jss/composer.rb,<br /> lib/jss/validate.rb,<br /> lib/jss/api_object.rb,<br /> lib/jss/exceptions.rb,<br /> lib/jss/configuration.rb,<br /> lib/jss/db_connection.rb,<br /> lib/jss/api_connection.rb,<br /> lib/jss/api_object/mdm.rb,<br /> lib/jss/xml_workaround.rb,<br /> lib/jss/api_object/site.rb,<br /> lib/jss/api_object/user.rb,<br /> lib/jss/api_object/ebook.rb,<br /> lib/jss/api_object/group.rb,<br /> lib/jss/api_object/policy.rb,<br /> lib/jss/api_object/script.rb,<br /> lib/jss/api_object/account.rb,<br /> lib/jss/api_object/ibeacon.rb,<br /> lib/jss/api_object/package.rb,<br /> lib/jss/api_object/printer.rb,<br /> lib/jss/api_object/sitable.rb,<br /> lib/jss/api_object/vppable.rb,<br /> lib/jss/api_object/webhook.rb,<br /> lib/jss/client/jamf_binary.rb,<br /> lib/jss/client/jamf_helper.rb,<br /> lib/jamf/client/jamf_binary.rb,<br /> lib/jamf/client/jamf_helper.rb,<br /> lib/jss/api_object/building.rb,<br /> lib/jss/api_object/category.rb,<br /> lib/jss/api_object/computer.rb,<br /> lib/jss/api_object/scopable.rb,<br /> lib/jss/api_object/creatable.rb,<br /> lib/jss/api_object/dock_item.rb,<br /> lib/jss/api_object/locatable.rb,<br /> lib/jss/api_object/matchable.rb,<br /> lib/jss/api_object/updatable.rb,<br /> lib/jss/api_object/department.rb,<br /> lib/jss/api_object/extendable.rb,<br /> lib/jss/api_object/peripheral.rb,<br /> lib/jss/api_object/uploadable.rb,<br /> lib/jss/api_object/criteriable.rb,<br /> lib/jss/api_object/ldap_server.rb,<br /> lib/jss/api_object/patch_title.rb,<br /> lib/jss/api_object/purchasable.rb,<br /> lib/jss/api_object/patch_policy.rb,<br /> lib/jss/api_object/patch_source.rb,<br /> lib/jss/api_object/categorizable.rb,<br /> lib/jss/api_object/mobile_device.rb,<br /> lib/jss/api_object/self_servable.rb,<br /> lib/jss/client/management_action.rb,<br /> lib/jamf/client/management_action.rb,<br /> lib/jss/api_object/netboot_server.rb,<br /> lib/jss/api_object/scopable/scope.rb,<br /> lib/jss/api_object/advanced_search.rb,<br /> lib/jss/api_object/mac_application.rb,<br /> lib/jss/api_object/network_segment.rb,<br /> lib/jss/api_object/peripheral_type.rb,<br /> lib/jss/api_object/group/user_group.rb,<br /> lib/jss/api_object/directory_binding.rb,<br /> lib/jss/api_object/removable_macaddr.rb,<br /> lib/jss/api_object/distribution_point.rb,<br /> lib/jss/api_object/management_history.rb,<br /> lib/jss/api_object/self_servable/icon.rb,<br /> lib/jss/api_object/computer_invitation.rb,<br /> lib/jss/api_object/extension_attribute.rb,<br /> lib/jss/api_object/patch_title/version.rb,<br /> lib/jss/api_object/restricted_software.rb,<br /> lib/jss/api_object/criteriable/criteria.rb,<br /> lib/jss/api_object/group/computer_group.rb,<br /> lib/jss/api_object/configuration_profile.rb,<br /> lib/jss/api_object/criteriable/criterion.rb,<br /> lib/jss/api_object/directory_binding_type.rb,<br /> lib/jss/api_object/software_update_server.rb,<br /> lib/jss/api_object/management_history/ebook.rb,<br /> lib/jss/api_object/group/mobile_device_group.rb,<br /> lib/jss/api_object/mobile_device_application.rb,<br /> lib/jss/api_object/management_history/hashlike.rb,<br /> lib/jss/api_object/computer/application_installs.rb,<br /> lib/jss/api_object/management_history/policy_log.rb,<br /> lib/jss/api_object/disk_encryption_configurations.rb,<br /> lib/jss/api_object/management_history/audit_event.rb,<br /> lib/jss/api_object/management_history/mdm_command.rb,<br /> lib/jss/api_object/directory_binding_type/admitmac.rb,<br /> lib/jss/api_object/directory_binding_type/centrify.rb,<br /> lib/jss/api_object/patch_source/patch_external_source.rb,<br /> lib/jss/api_object/patch_source/patch_internal_source.rb,<br /> lib/jss/api_object/advanced_search/advanced_user_search.rb,<br /> lib/jss/api_object/management_history/casper_remote_log.rb,<br /> lib/jss/api_object/management_history/mac_app_store_app.rb,<br /> lib/jss/api_object/management_history/mobile_device_app.rb,<br /> lib/jss/api_object/directory_binding_type/open_directory.rb,<br /> lib/jss/api_object/management_history/casper_imaging_log.rb,<br /> lib/jss/api_object/management_history/computer_usage_log.rb,<br /> lib/jss/api_object/management_history/screen_sharing_log.rb,<br /> lib/jss/api_object/directory_binding_type/active_directory.rb,<br /> lib/jss/api_object/management_history/user_location_change.rb,<br /> lib/jss/api_object/advanced_search/advanced_computer_search.rb,<br /> lib/jss/api_object/extension_attribute/user_extension_attribute.rb,<br /> lib/jss/api_object/advanced_search/advanced_mobile_device_search.rb,<br /> lib/jss/api_object/configuration_profile/osx_configuration_profile.rb,<br /> lib/jss/api_object/extension_attribute/computer_extension_attribute.rb,<br /> lib/jss/api_object/directory_binding_type/powerbroker_identity_services.rb,<br /> lib/jss/api_object/extension_attribute/mobile_device_extension_attribute.rb,<br /> lib/jss/api_object/configuration_profile/mobile_device_configuration_profile.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Licensed under the Apache License, Version 2.0 (the “Apache License”)</p>

<pre class="code ruby"><code class="ruby">with the following modification; you may not use this file except in
compliance with the Apache License and the following modification to it:
Section 6. Trademarks. is deleted and replaced with:

6. Trademarks. This License does not grant permission to use the trade
   names, trademarks, service marks, or product names of the Licensor
   and its affiliates, except as required to comply with Section 4(c) of
   the License and to reproduce the content of the NOTICE file.

You may obtain a copy of the Apache License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the Apache License with the above modification is
distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied. See the Apache License for the specific
language governing permissions and limitations under the Apache License.</code></pre>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="JSS/Categorizable.html" title="JSS::Categorizable (module)">Categorizable</a></span>, <span class='object_link'><a href="JSS/Composer.html" title="JSS::Composer (module)">Composer</a></span>, <span class='object_link'><a href="JSS/Creatable.html" title="JSS::Creatable (module)">Creatable</a></span>, <span class='object_link'><a href="JSS/Criteriable.html" title="JSS::Criteriable (module)">Criteriable</a></span>, <span class='object_link'><a href="JSS/DirectoryBindingType.html" title="JSS::DirectoryBindingType (module)">DirectoryBindingType</a></span>, <span class='object_link'><a href="JSS/Extendable.html" title="JSS::Extendable (module)">Extendable</a></span>, <span class='object_link'><a href="JSS/FileUpload.html" title="JSS::FileUpload (module)">FileUpload</a></span>, <span class='object_link'><a href="JSS/Locatable.html" title="JSS::Locatable (module)">Locatable</a></span>, <span class='object_link'><a href="JSS/MDM.html" title="JSS::MDM (module)">MDM</a></span>, <span class='object_link'><a href="JSS/ManagementHistory.html" title="JSS::ManagementHistory (module)">ManagementHistory</a></span>, <span class='object_link'><a href="JSS/Matchable.html" title="JSS::Matchable (module)">Matchable</a></span>, <span class='object_link'><a href="JSS/Purchasable.html" title="JSS::Purchasable (module)">Purchasable</a></span>, <span class='object_link'><a href="JSS/Scopable.html" title="JSS::Scopable (module)">Scopable</a></span>, <span class='object_link'><a href="JSS/SelfServable.html" title="JSS::SelfServable (module)">SelfServable</a></span>, <span class='object_link'><a href="JSS/Sitable.html" title="JSS::Sitable (module)">Sitable</a></span>, <span class='object_link'><a href="JSS/Updatable.html" title="JSS::Updatable (module)">Updatable</a></span>, <span class='object_link'><a href="JSS/Uploadable.html" title="JSS::Uploadable (module)">Uploadable</a></span>, <span class='object_link'><a href="JSS/VPPable.html" title="JSS::VPPable (module)">VPPable</a></span>, <span class='object_link'><a href="JSS/Validate.html" title="JSS::Validate (module)">Validate</a></span>, <span class='object_link'><a href="JSS/XMLWorkaround.html" title="JSS::XMLWorkaround (module)">XMLWorkaround</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="JSS/APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span>, <span class='object_link'><a href="JSS/APIObject.html" title="JSS::APIObject (class)">APIObject</a></span>, <span class='object_link'><a href="JSS/APIRequestError.html" title="JSS::APIRequestError (class)">APIRequestError</a></span>, <span class='object_link'><a href="JSS/Account.html" title="JSS::Account (class)">Account</a></span>, <span class='object_link'><a href="JSS/AdvancedComputerSearch.html" title="JSS::AdvancedComputerSearch (class)">AdvancedComputerSearch</a></span>, <span class='object_link'><a href="JSS/AdvancedMobileDeviceSearch.html" title="JSS::AdvancedMobileDeviceSearch (class)">AdvancedMobileDeviceSearch</a></span>, <span class='object_link'><a href="JSS/AdvancedSearch.html" title="JSS::AdvancedSearch (class)">AdvancedSearch</a></span>, <span class='object_link'><a href="JSS/AdvancedUserSearch.html" title="JSS::AdvancedUserSearch (class)">AdvancedUserSearch</a></span>, <span class='object_link'><a href="JSS/AlreadyExistsError.html" title="JSS::AlreadyExistsError (class)">AlreadyExistsError</a></span>, <span class='object_link'><a href="JSS/AmbiguousError.html" title="JSS::AmbiguousError (class)">AmbiguousError</a></span>, <span class='object_link'><a href="JSS/AuthenticationError.html" title="JSS::AuthenticationError (class)">AuthenticationError</a></span>, <span class='object_link'><a href="JSS/BadRequestError.html" title="JSS::BadRequestError (class)">BadRequestError</a></span>, <span class='object_link'><a href="JSS/Building.html" title="JSS::Building (class)">Building</a></span>, <span class='object_link'><a href="JSS/Category.html" title="JSS::Category (class)">Category</a></span>, <span class='object_link'><a href="JSS/Client.html" title="JSS::Client (class)">Client</a></span>, <span class='object_link'><a href="JSS/Computer.html" title="JSS::Computer (class)">Computer</a></span>, <span class='object_link'><a href="JSS/ComputerExtensionAttribute.html" title="JSS::ComputerExtensionAttribute (class)">ComputerExtensionAttribute</a></span>, <span class='object_link'><a href="JSS/ComputerGroup.html" title="JSS::ComputerGroup (class)">ComputerGroup</a></span>, <span class='object_link'><a href="JSS/ComputerInvitation.html" title="JSS::ComputerInvitation (class)">ComputerInvitation</a></span>, <span class='object_link'><a href="JSS/Configuration.html" title="JSS::Configuration (class)">Configuration</a></span>, <span class='object_link'><a href="JSS/ConfigurationProfile.html" title="JSS::ConfigurationProfile (class)">ConfigurationProfile</a></span>, <span class='object_link'><a href="JSS/ConflictError.html" title="JSS::ConflictError (class)">ConflictError</a></span>, <span class='object_link'><a href="JSS/DBConnection.html" title="JSS::DBConnection (class)">DBConnection</a></span>, <span class='object_link'><a href="JSS/Department.html" title="JSS::Department (class)">Department</a></span>, <span class='object_link'><a href="JSS/DirectoryBinding.html" title="JSS::DirectoryBinding (class)">DirectoryBinding</a></span>, <span class='object_link'><a href="JSS/DiskEncryptionConfiguration.html" title="JSS::DiskEncryptionConfiguration (class)">DiskEncryptionConfiguration</a></span>, <span class='object_link'><a href="JSS/DistributionPoint.html" title="JSS::DistributionPoint (class)">DistributionPoint</a></span>, <span class='object_link'><a href="JSS/DockItem.html" title="JSS::DockItem (class)">DockItem</a></span>, <span class='object_link'><a href="JSS/EBook.html" title="JSS::EBook (class)">EBook</a></span>, <span class='object_link'><a href="JSS/ExtensionAttribute.html" title="JSS::ExtensionAttribute (class)">ExtensionAttribute</a></span>, <span class='object_link'><a href="JSS/FileServiceError.html" title="JSS::FileServiceError (class)">FileServiceError</a></span>, <span class='object_link'><a href="JSS/Group.html" title="JSS::Group (class)">Group</a></span>, <span class='object_link'><a href="JSS/IBeacon.html" title="JSS::IBeacon (class)">IBeacon</a></span>, <span class='object_link'><a href="JSS/Icon.html" title="JSS::Icon (class)">Icon</a></span>, <span class='object_link'><a href="JSS/InvalidConnectionError.html" title="JSS::InvalidConnectionError (class)">InvalidConnectionError</a></span>, <span class='object_link'><a href="JSS/InvalidDataError.html" title="JSS::InvalidDataError (class)">InvalidDataError</a></span>, <span class='object_link'><a href="JSS/LDAPServer.html" title="JSS::LDAPServer (class)">LDAPServer</a></span>, <span class='object_link'><a href="JSS/MacApplication.html" title="JSS::MacApplication (class)">MacApplication</a></span>, <span class='object_link'><a href="JSS/MissingDataError.html" title="JSS::MissingDataError (class)">MissingDataError</a></span>, <span class='object_link'><a href="JSS/MobileDevice.html" title="JSS::MobileDevice (class)">MobileDevice</a></span>, <span class='object_link'><a href="JSS/MobileDeviceApplication.html" title="JSS::MobileDeviceApplication (class)">MobileDeviceApplication</a></span>, <span class='object_link'><a href="JSS/MobileDeviceConfigurationProfile.html" title="JSS::MobileDeviceConfigurationProfile (class)">MobileDeviceConfigurationProfile</a></span>, <span class='object_link'><a href="JSS/MobileDeviceExtensionAttribute.html" title="JSS::MobileDeviceExtensionAttribute (class)">MobileDeviceExtensionAttribute</a></span>, <span class='object_link'><a href="JSS/MobileDeviceGroup.html" title="JSS::MobileDeviceGroup (class)">MobileDeviceGroup</a></span>, <span class='object_link'><a href="JSS/NetBootServer.html" title="JSS::NetBootServer (class)">NetBootServer</a></span>, <span class='object_link'><a href="JSS/NetworkSegment.html" title="JSS::NetworkSegment (class)">NetworkSegment</a></span>, <span class='object_link'><a href="JSS/NoSuchItemError.html" title="JSS::NoSuchItemError (class)">NoSuchItemError</a></span>, <span class='object_link'><a href="JSS/OSXConfigurationProfile.html" title="JSS::OSXConfigurationProfile (class)">OSXConfigurationProfile</a></span>, <span class='object_link'><a href="JSS/Package.html" title="JSS::Package (class)">Package</a></span>, <span class='object_link'><a href="JSS/PatchExternalSource.html" title="JSS::PatchExternalSource (class)">PatchExternalSource</a></span>, <span class='object_link'><a href="JSS/PatchInternalSource.html" title="JSS::PatchInternalSource (class)">PatchInternalSource</a></span>, <span class='object_link'><a href="JSS/PatchPolicy.html" title="JSS::PatchPolicy (class)">PatchPolicy</a></span>, <span class='object_link'><a href="JSS/PatchSource.html" title="JSS::PatchSource (class)">PatchSource</a></span>, <span class='object_link'><a href="JSS/PatchTitle.html" title="JSS::PatchTitle (class)">PatchTitle</a></span>, <span class='object_link'><a href="JSS/Peripheral.html" title="JSS::Peripheral (class)">Peripheral</a></span>, <span class='object_link'><a href="JSS/PeripheralType.html" title="JSS::PeripheralType (class)">PeripheralType</a></span>, <span class='object_link'><a href="JSS/Policy.html" title="JSS::Policy (class)">Policy</a></span>, <span class='object_link'><a href="JSS/Preferences.html" title="JSS::Preferences (class)">Preferences</a></span>, <span class='object_link'><a href="JSS/Printer.html" title="JSS::Printer (class)">Printer</a></span>, <span class='object_link'><a href="JSS/RemovableMacAddress.html" title="JSS::RemovableMacAddress (class)">RemovableMacAddress</a></span>, <span class='object_link'><a href="JSS/RestrictedSoftware.html" title="JSS::RestrictedSoftware (class)">RestrictedSoftware</a></span>, <span class='object_link'><a href="JSS/Script.html" title="JSS::Script (class)">Script</a></span>, <span class='object_link'><a href="JSS/Server.html" title="JSS::Server (class)">Server</a></span>, <span class='object_link'><a href="JSS/Site.html" title="JSS::Site (class)">Site</a></span>, <span class='object_link'><a href="JSS/SoftwareUpdateServer.html" title="JSS::SoftwareUpdateServer (class)">SoftwareUpdateServer</a></span>, <span class='object_link'><a href="JSS/TimeoutError.html" title="JSS::TimeoutError (class)">TimeoutError</a></span>, <span class='object_link'><a href="JSS/UnmanagedError.html" title="JSS::UnmanagedError (class)">UnmanagedError</a></span>, <span class='object_link'><a href="JSS/UnsupportedError.html" title="JSS::UnsupportedError (class)">UnsupportedError</a></span>, <span class='object_link'><a href="JSS/User.html" title="JSS::User (class)">User</a></span>, <span class='object_link'><a href="JSS/UserExtensionAttribute.html" title="JSS::UserExtensionAttribute (class)">UserExtensionAttribute</a></span>, <span class='object_link'><a href="JSS/UserGroup.html" title="JSS::UserGroup (class)">UserGroup</a></span>, <span class='object_link'><a href="JSS/WebHook.html" title="JSS::WebHook (class)">WebHook</a></span>
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="MINIMUM_RUBY_VERSION-constant" class="">MINIMUM_RUBY_VERSION =
          <div class="docstring">
  <div class="discussion">
    
<p>The minimum Ruby version that works with this gem</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2.0.0</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="MINIMUM_SERVER_VERSION-constant" class="">MINIMUM_SERVER_VERSION =
          <div class="docstring">
  <div class="discussion">
    
<p>The minimum JSS version that works with this module, as returned by the API
in the deprecated &#39;jssuser&#39; resource</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>10.4.0</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="TIME_ZONE_OFFSET-constant" class="">TIME_ZONE_OFFSET =
          <div class="docstring">
  <div class="discussion">
    
<p>The current local UTC offset as a fraction of a day  (Time.now.utc_offset
is the offset in seconds, 60*60*24 is the seconds in a day)</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>Rational</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_utc_offset'>utc_offset</span><span class='comma'>,</span> <span class='int'>60</span> <span class='op'>*</span> <span class='int'>60</span> <span class='op'>*</span> <span class='int'>24</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="TRUE_FALSE-constant" class="">TRUE_FALSE =
          <div class="docstring">
  <div class="discussion">
    
<p>These are handy for testing values without making new arrays, strings, etc
every time.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='kw'>true</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="NIL_DATES-constant" class="">NIL_DATES =
          <div class="docstring">
  <div class="discussion">
    
<p>When parsing a date/time data into a Time object, these will return nil</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="BLANK-constant" class="">BLANK =
          <div class="docstring">
  <div class="discussion">
    
<p>Empty strings are used in various places</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="VERSION-constant" class="">VERSION =
          <div class="docstring">
  <div class="discussion">
    
<p>The version of ruby-jss</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.3.3</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="CONFIG-constant" class="">CONFIG =
          <div class="docstring">
  <div class="discussion">
    
<p>The single instance of Configuration</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>JSS</span><span class='op'>::</span><span class='const'><span class='object_link'><a href="JSS/Configuration.html" title="JSS::Configuration (class)">Configuration</a></span></span><span class='period'>.</span><span class='id identifier rubyid_instance'>instance</span></pre></dd>
      
        <dt id="DB_CNX-constant" class="">DB_CNX =
          <div class="docstring">
  <div class="discussion">
    
<p>The single instance of the DBConnection</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'><span class='object_link'><a href="JSS/DBConnection.html" title="JSS::DBConnection (class)">DBConnection</a></span></span><span class='period'>.</span><span class='id identifier rubyid_instance'>instance</span></pre></dd>
      
        <dt id="API-constant" class="">API =
          <div class="docstring">
  <div class="discussion">
    
<p>Save the default connection in the API constant, mostly for backward
compatibility.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='ivar'>@api</span></pre></dd>
      
        <dt id="stdin_lines-classvariable" class="">@@stdin_lines =
          <div class="docstring">
  <div class="discussion">
    
<p>The contents of anything piped to stdin, split into lines. See <span class='object_link'><a href="#stdin-class_method" title="JSS.stdin (method)">stdin</a></span></p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='kw'>nil</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#api-class_method" title="api (class method)">.<strong>api</strong>  &#x21d2; JSS::APIConnection </a>
    

    
      (also: api_connection, connection, active_connection)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The currently active JSS::APIConnection instance.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#api_object_class-class_method" title="api_object_class (class method)">.<strong>api_object_class</strong>(name)  &#x21d2; Class </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given a name, singular or plural, of a JSS::APIObject subclass as a String
or Symbol (e.g. :computer/&#39;computers&#39;), return the class itself
(e.g. JSS::Computer) The available names are the RSRC_LIST_KEY and
RSRC_OBJECT_KEY values for each APIObject subclass.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#api_object_names-class_method" title="api_object_names (class method)">.<strong>api_object_names</strong>  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>APIObject subclasses have singular names, and are, of course capitalized,
e.g.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#array_to_rexml_array-class_method" title="array_to_rexml_array (class method)">.<strong>array_to_rexml_array</strong>(element, list)  &#x21d2; Array&lt;REXML::Element&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given an element name and an array of content, generate an Array of
REXML::Element objects with that name, and matching content.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#db-class_method" title="db (class method)">.<strong>db</strong>  &#x21d2; Mysql </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The mysql database available through the DBConnection.instance.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#devmode-class_method" title="devmode (class method)">.<strong>devmode</strong>(setting)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>un/set devmode mode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#devmode%3F-class_method" title="devmode? (class method)">.<strong>devmode?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>is devmode currently on?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#epoch_to_time-class_method" title="epoch_to_time (class method)">.<strong>epoch_to_time</strong>(epoch)  &#x21d2; Time<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts JSS epoch (unix epoch + milliseconds) to a Ruby Time object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#escape_xml-class_method" title="escape_xml (class method)">.<strong>escape_xml</strong>(string)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given a string of xml element text, escape any characters that would make
XML unhappy.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expand_min_os-class_method" title="expand_min_os (class method)">.<strong>expand_min_os</strong>(min_os)  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts an OS Version into an Array of higher OS versions.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hash_to_rexml_array-class_method" title="hash_to_rexml_array (class method)">.<strong>hash_to_rexml_array</strong>(hash)  &#x21d2; Array&lt;REXML::Element&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given a simple Hash, convert it to an array of REXML Elements such that
each key becomes an element, and its value becomes the text content of that
element.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#item_list_to_rexml_list-class_method" title="item_list_to_rexml_list (class method)">.<strong>item_list_to_rexml_list</strong>(list_element, item_element, item_list, content = :name)  &#x21d2; REXML::Element </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given an Array of Hashes with :id and/or :name keys, return a single REXML
element with a sub-element for each item, each of which contains a :name or
:id element.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_api_connection-class_method" title="new_api_connection (class method)">.<strong>new_api_connection</strong>(args = {})  &#x21d2; APIConnection </a>
    

    
      (also: new_connection, new_api)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new APIConnection object and use it for all future API calls.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#os_ok%3F-class_method" title="os_ok? (class method)">.<strong>os_ok?</strong>(requirement, os_to_check = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Scripts and packages can have OS limitations.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse_datetime-class_method" title="parse_datetime (class method)">.<strong>parse_datetime</strong>(a_datetime)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Deprecated - to be eventually removed in favor of the more-appropriately
named JSS::parse_time.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse_jss_version-class_method" title="parse_jss_version (class method)">.<strong>parse_jss_version</strong>(version)  &#x21d2; Hash{Symbol =&gt; String, Gem::Version} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Parse a JSS Version number into something comparable.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse_plist-class_method" title="parse_plist (class method)">.<strong>parse_plist</strong>(plist)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Parse a plist into a Ruby data structure.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse_time-class_method" title="parse_time (class method)">.<strong>parse_time</strong>(a_datetime)  &#x21d2; Time<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts anything that responds to #to_s to a Time, or nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#processor_ok%3F-class_method" title="processor_ok? (class method)">.<strong>processor_ok?</strong>(requirement, processor = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Scripts and packages can have processor limitations.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prompt_for_password-class_method" title="prompt_for_password (class method)">.<strong>prompt_for_password</strong>(message)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Prompt for a password in a terminal.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stdin-class_method" title="stdin (class method)">.<strong>stdin</strong>(line = 0)  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Retrive one or all lines from whatever was piped to standard input.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#superuser%3F-class_method" title="superuser? (class method)">.<strong>superuser?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Is this code running as root?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s_and_a-class_method" title="to_s_and_a (class method)">.<strong>to_s_and_a</strong>(somedata)  &#x21d2; Hash{:stringform =&gt; String, :arrayform =&gt; Array} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given a list of data as a comma-separated string, or an Array of strings,
return a Hash with both versions.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_api_connection-class_method" title="use_api_connection (class method)">.<strong>use_api_connection</strong>(connection)  &#x21d2; APIConnection </a>
    

    
      (also: use_api, use_connection, activate_connection)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Switch the connection used for all API interactions to the one provided.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_default_connection-class_method" title="use_default_connection (class method)">.<strong>use_default_connection</strong>  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Make the default connection (Stored in JSS::API) active.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="api-class_method">
  
    .<strong>api</strong>  &#x21d2; <tt><span class='object_link'><a href="JSS/APIConnection.html" title="JSS::APIConnection (class)">JSS::APIConnection</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='api_connection-class_method'>api_connection</span>, <span id='connection-class_method'>connection</span>, <span id='active_connection-class_method'>active_connection</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The currently active JSS::APIConnection instance.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="JSS/APIConnection.html" title="JSS::APIConnection (class)">JSS::APIConnection</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1294
1295
1296</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 1294</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_api'>api</span>
  <span class='ivar'>@api</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="JSS/APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="JSS/APIConnection.html#initialize-instance_method" title="JSS::APIConnection#initialize (method)">new</a></span></span> <span class='label'>name:</span> <span class='symbol'>:default</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="api_object_class-class_method">
  
    .<strong>api_object_class</strong>(name)  &#x21d2; <tt>Class</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given a name, singular or plural, of a JSS::APIObject subclass as a String
or Symbol (e.g. :computer/&#39;computers&#39;), return the class itself
(e.g. JSS::Computer) The available names are the RSRC_LIST_KEY and
RSRC_OBJECT_KEY values for each APIObject subclass.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The name of a JSS::APIObject subclass, singluar or plural</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Class</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The class</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="JSS/InvalidDataError.html" title="JSS::InvalidDataError (class)">JSS::InvalidDataError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


266
267
268
269
270</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 266</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_api_object_class'>api_object_class</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_api_object_names'>api_object_names</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="JSS/InvalidDataError.html" title="JSS::InvalidDataError (class)">InvalidDataError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown API Object Class: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_klass'>klass</span>
  <span class='id identifier rubyid_klass'>klass</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="api_object_names-class_method">
  
    .<strong>api_object_names</strong>  &#x21d2; <tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>APIObject subclasses have singular names, and are, of course capitalized,
e.g. &#39;Computer&#39; But we often want to refer to them in the plural,
or lowercase, e.g. &#39;computers&#39; This method returns a Hash of the
RSRC_LIST_KEY (a plural symbol) and the RSRC_OBJECT_KEY (a singular symbol)
of each APIObject subclass, keyed to the class itself, such that both
:computer and :computers are keys for JSS::Computer and both :policy and
:policies are keys for JSS::Policy, and so on.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>APIObject subclass names to Classes</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


284
285
286
287
288
289
290
291
292
293
294
295</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 284</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_api_object_names'>api_object_names</span>
  <span class='kw'>return</span> <span class='ivar'>@api_object_names</span> <span class='kw'>if</span> <span class='ivar'>@api_object_names</span>
  <span class='ivar'>@api_object_names</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='const'><span class='object_link'><a href="" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_constants'>constants</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_const'>const</span><span class='op'>|</span>
    <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span> <span class='id identifier rubyid_const'>const</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Class</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_ancestors'>ancestors</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='const'><span class='object_link'><a href="" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="JSS/APIObject.html" title="JSS::APIObject (class)">APIObject</a></span></span>
    <span class='ivar'>@api_object_names</span><span class='lbracket'>[</span><span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='symbol'>:RSRC_LIST_KEY</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span> <span class='kw'>if</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_constants'>constants</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='symbol'>:RSRC_LIST_KEY</span>
    <span class='ivar'>@api_object_names</span><span class='lbracket'>[</span><span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='symbol'>:RSRC_OBJECT_KEY</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span> <span class='kw'>if</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_constants'>constants</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='symbol'>:RSRC_OBJECT_KEY</span>
  <span class='kw'>end</span>
  <span class='ivar'>@api_object_names</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="array_to_rexml_array-class_method">
  
    .<strong>array_to_rexml_array</strong>(element, list)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;REXML::Element&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given an element name and an array of content, generate an Array of
REXML::Element objects with that name, and matching content. Given element
name &#39;foo&#39; and the array [&#39;bar&#39;,&#39;morefoo&#39;] The
array of REXML elements would render thus:</p>

<pre class="code ruby"><code class="ruby">&lt;foo&gt;bar&lt;/foo&gt;
&lt;foo&gt;morefoo&lt;/foo&gt;</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>element</span>
      
      
        <span class='type'>(<tt>#to_s</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an element_name like :foo</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>list</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;#to_s&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an Array of element content such as [“bar”, :morefoo]</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;REXML::Element&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="JSS/InvalidDataError.html" title="JSS::InvalidDataError (class)">JSS::InvalidDataError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


325
326
327
328
329
330
331
332
333</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 325</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_array_to_rexml_array'>array_to_rexml_array</span><span class='lparen'>(</span><span class='id identifier rubyid_element'>element</span><span class='comma'>,</span> <span class='id identifier rubyid_list'>list</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="JSS/InvalidDataError.html" title="JSS::InvalidDataError (class)">InvalidDataError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Arg. must be an Array.</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></span>
  <span class='id identifier rubyid_element'>element</span> <span class='op'>=</span> <span class='id identifier rubyid_element'>element</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='const'>REXML</span><span class='op'>::</span><span class='const'>Element</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_element'>element</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
    <span class='id identifier rubyid_e'>e</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="db-class_method">
  
    .<strong>db</strong>  &#x21d2; <tt>Mysql</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns The mysql database available through the DBConnection.instance</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Mysql</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The mysql database available through the DBConnection.instance</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


293
294
295</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/db_connection.rb', line 293</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_db'>db</span>
  <span class='const'><span class='object_link'><a href="#DB_CNX-constant" title="JSS::DB_CNX (constant)">DB_CNX</a></span></span><span class='period'>.</span><span class='id identifier rubyid_db'>db</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="devmode-class_method">
  
    .<strong>devmode</strong>(setting)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>un/set devmode mode. Useful when coding - methods can call JSS.devmode? and
then e.g. spit out something instead of performing some action.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>Set</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>devmode :on or :off</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The new state of devmode</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


491
492
493</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 491</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_devmode'>devmode</span><span class='lparen'>(</span><span class='id identifier rubyid_setting'>setting</span><span class='rparen'>)</span>
  <span class='ivar'>@devmode</span> <span class='op'>=</span> <span class='id identifier rubyid_setting'>setting</span> <span class='op'>==</span> <span class='symbol'>:on</span> <span class='op'>?</span> <span class='kw'>true</span> <span class='op'>:</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="devmode?-class_method">
  
    .<strong>devmode?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>is devmode currently on?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


500
501
502</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 500</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_devmode?'>devmode?</span>
  <span class='ivar'>@devmode</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="epoch_to_time-class_method">
  
    .<strong>epoch_to_time</strong>(epoch)  &#x21d2; <tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts JSS epoch (unix epoch + milliseconds) to a Ruby Time object</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>epoch</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>, <tt>Integer</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>nil is returned if epoch is nil, 0 or an empty String.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


248
249
250
251</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 248</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_epoch_to_time'>epoch_to_time</span><span class='lparen'>(</span><span class='id identifier rubyid_epoch'>epoch</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="#NIL_DATES-constant" title="JSS::NIL_DATES (constant)">NIL_DATES</a></span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_epoch'>epoch</span>
  <span class='const'><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></span><span class='period'>.</span><span class='id identifier rubyid_at'>at</span><span class='lparen'>(</span><span class='id identifier rubyid_epoch'>epoch</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>/</span> <span class='float'>1000.0</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="escape_xml-class_method">
  
    .<strong>escape_xml</strong>(string)  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given a string of xml element text, escape any characters that would make
XML unhappy.</p>

<pre class="code ruby"><code class="ruby">* &amp; =&gt; &amp;amp;
* &quot; =&gt; &amp;quot;
* &lt; =&gt; &amp;lt;
* &gt; =&gt; &amp;gt;
* &#39; =&gt; &amp;apos;</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the string to make xml-compliant.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the xml-compliant string</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


308
309
310</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 308</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_escape_xml'>escape_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&amp;</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&amp;amp;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\&quot;</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&amp;quot;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&amp;gt;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&lt;</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&amp;lt;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&#39;</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&amp;apos;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expand_min_os-class_method">
  
    .<strong>expand_min_os</strong>(min_os)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts an OS Version into an Array of higher OS versions.</p>

<p>It&#39;s unlikely that this library will still be in use as-is by the
release of OS X 10.30. Hopefully well before then JAMF will implement a
“minimum OS” in the JSS itself.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_expand_min_os'>expand_min_os</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;=10.6.7</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># =&gt; returns this array
</span> <span class='comment'># [&quot;10.6.7&quot;,
</span> <span class='comment'>#  &quot;10.6.8&quot;,
</span> <span class='comment'>#  ...
</span> <span class='comment'>#  &quot;10.6.25&quot;,
</span> <span class='comment'>#  &quot;10.7.x&quot;,
</span> <span class='comment'>#  &quot;10.8.x&quot;,
</span> <span class='comment'>#  ...
</span> <span class='comment'>#  &quot;10.30.x&quot;]</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>min_os</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the mimimum OS version to expand, e.g. “&gt;=10.6.7”  or “10.6.7”</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Nearly all potential OS versions from the minimum to 10.19.x.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 54</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_expand_min_os'>expand_min_os</span><span class='lparen'>(</span><span class='id identifier rubyid_min_os'>min_os</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_min_os'>min_os</span> <span class='op'>=</span> <span class='id identifier rubyid_min_os'>min_os</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&gt;=</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># split the version into major, minor and maintenance release numbers
</span>  <span class='lparen'>(</span><span class='id identifier rubyid_maj'>maj</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_maint'>maint</span><span class='rparen'>)</span> <span class='op'>=</span> <span class='id identifier rubyid_min_os'>min_os</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_maint'>maint</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_maint'>maint</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_maint'>maint</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># if the maint release number is an &quot;x&quot; just start the list of OK OS&#39;s with it
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_maint'>maint</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_ok_oses'>ok_oses</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_maj'>maj</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_min'>min</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.x</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>

  <span class='comment'># otherwise, start with it and explicitly add all maint releases up to 15
</span>  <span class='comment'># (and hope apple doesn&#39;t do more than 15 maint releases for an OS)
</span>  <span class='kw'>else</span>
    <span class='id identifier rubyid_ok_oses'>ok_oses</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='lparen'>(</span><span class='id identifier rubyid_maint'>maint</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='op'>..</span><span class='int'>25</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
      <span class='id identifier rubyid_ok_oses'>ok_oses</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_maj'>maj</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_min'>min</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>end</span> <span class='comment'># each m
</span>  <span class='kw'>end</span>

  <span class='comment'># now account for all OS X versions starting with 10.
</span>  <span class='comment'># up to 10.30.x
</span>  <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_min'>min</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span><span class='op'>..</span><span class='int'>30</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='id identifier rubyid_ok_oses'>ok_oses</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_maj'>maj</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.x</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span> <span class='comment'># each v
</span>  <span class='id identifier rubyid_ok_oses'>ok_oses</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="hash_to_rexml_array-class_method">
  
    .<strong>hash_to_rexml_array</strong>(hash)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;REXML::Element&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given a simple Hash, convert it to an array of REXML Elements such that
each key becomes an element, and its value becomes the text content of that
element</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>my_hash = {:foo =&gt; &quot;bar&quot;, :baz =&gt; :morefoo}
xml = JSS.hash_to_rexml_array(my_hash)
xml.each{|x| puts x }

&lt;foo&gt;bar&lt;/foo&gt;
&lt;baz&gt;morefoo&lt;/baz&gt;</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hash</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>{#to_s =&gt; #to_s}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the Hash to convert</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;REXML::Element&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the Array of REXML elements.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="JSS/InvalidDataError.html" title="JSS::InvalidDataError (class)">InvalidDataError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


351
352
353
354
355
356
357
358
359
360</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 351</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_hash_to_rexml_array'>hash_to_rexml_array</span><span class='lparen'>(</span><span class='id identifier rubyid_hash'>hash</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="JSS/InvalidDataError.html" title="JSS::InvalidDataError (class)">InvalidDataError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Arg. must be a Hash.</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></span>
  <span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_each_pair'>each_pair</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='id identifier rubyid_el'>el</span> <span class='op'>=</span> <span class='const'>REXML</span><span class='op'>::</span><span class='const'>Element</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_el'>el</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
    <span class='id identifier rubyid_ary'>ary</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_el'>el</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_ary'>ary</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="item_list_to_rexml_list-class_method">
  
    .<strong>item_list_to_rexml_list</strong>(list_element, item_element, item_list, content = :name)  &#x21d2; <tt>REXML::Element</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given an Array of Hashes with :id and/or :name keys, return a single REXML
element with a sub-element for each item, each of which contains a :name or
:id element.</p>

<p>e.g. :computers</p>

<p>e.g. :computer</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>comps = [{:id=&gt;2,:name=&gt;&#39;kimchi&#39;},{:id=&gt;5,:name=&gt;&#39;mantis&#39;}]
xml = JSS.item_list_to_rexml_list(:computers, :computer , comps, :name)
puts xml
# output manually formatted for clarity. No newlines in the real xml string
&lt;computers&gt;
  &lt;computer&gt;
    &lt;name&gt;kimchi&lt;/name&gt;
  &lt;/computer&gt;
  &lt;computer&gt;
    &lt;name&gt;mantis&lt;/name&gt;
  &lt;/computer&gt;
&lt;/computers&gt;

# if content is :id, then, eg. &lt;name&gt;kimchi&lt;/name&gt; would be &lt;id&gt;2&lt;/id&gt;</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>list_element</span>
      
      
        <span class='type'>(<tt>#to_s</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the XML element that contains the list.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>item_element</span>
      
      
        <span class='type'>(<tt>#to_s</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of each XML element in the list,</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>item_list</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an Array of Hashes each with a :name or :id key.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>content</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>:name</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>which hash key should be used as the content of if list item? Defaults to
:name</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>REXML::Element</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the item list as REXML</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


394
395
396
397
398
399
400</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 394</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_item_list_to_rexml_list'>item_list_to_rexml_list</span><span class='lparen'>(</span><span class='id identifier rubyid_list_element'>list_element</span><span class='comma'>,</span> <span class='id identifier rubyid_item_element'>item_element</span><span class='comma'>,</span> <span class='id identifier rubyid_item_list'>item_list</span><span class='comma'>,</span> <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='symbol'>:name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_xml_list'>xml_list</span> <span class='op'>=</span> <span class='const'>REXML</span><span class='op'>::</span><span class='const'>Element</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>  <span class='id identifier rubyid_list_element'>list_element</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_item_list'>item_list</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='id identifier rubyid_xml_list'>xml_list</span><span class='period'>.</span><span class='id identifier rubyid_add_element'>add_element</span><span class='lparen'>(</span><span class='id identifier rubyid_item_element'>item_element</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_add_element'>add_element</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_i'>i</span><span class='lbracket'>[</span><span class='id identifier rubyid_content'>content</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_xml_list'>xml_list</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_api_connection-class_method">
  
    .<strong>new_api_connection</strong>(args = {})  &#x21d2; <tt><span class='object_link'><a href="JSS/APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='new_connection-class_method'>new_connection</span>, <span id='new_api-class_method'>new_api</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new APIConnection object and use it for all future API calls. If
connection options are provided, they are passed to the connect method
immediately, otherwise JSS.api.connect must be called before attemting to
use the connection.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'></span>
      
      
        <span class='type'>(<tt>See <span class='object_link'><a href="JSS/APIConnection.html" title="JSS::APIConnection (class)">JSS::APIConnection</a></span>#connect</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="JSS/APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the new, active connection</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1262
1263
1264
1265</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 1262</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_new_api_connection'>new_api_connection</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='symbol'>:default</span>
  <span class='ivar'>@api</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="JSS/APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="JSS/APIConnection.html#initialize-instance_method" title="JSS::APIConnection#initialize (method)">new</a></span></span> <span class='id identifier rubyid_args'>args</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="os_ok?-class_method">
  
    .<strong>os_ok?</strong>(requirement, os_to_check = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Scripts and packages can have OS limitations. This method tests a given OS,
against a requirement list to see if the requirement is met.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>requirement</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The os requirement list, a comma-seprated string or array of strings of
allows OSes. e.g. 10.7, 10.8.5 or 10.9.x</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>processor</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the os to check, defaults to the os of the current machine.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>can this pkg be installed with the processor given?</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 115</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_os_ok?'>os_ok?</span><span class='lparen'>(</span><span class='id identifier rubyid_requirement'>requirement</span><span class='comma'>,</span> <span class='id identifier rubyid_os_to_check'>os_to_check</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_requirement'>requirement</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>none</span><span class='regexp_end'>/i</span></span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_requirement'>requirement</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>n</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_requirement'>requirement</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_s_and_a'><span class='object_link'><a href="#to_s_and_a-class_method" title="JSS.to_s_and_a (method)">to_s_and_a</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_requirement'>requirement</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:arrayform</span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_requirement'>requirement</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_os_to_check'>os_to_check</span> <span class='op'>||=</span> <span class='backtick'>`</span><span class='tstring_content'>/usr/bin/sw_vers -productVersion</span><span class='tstring_end'>`</span></span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>

  <span class='comment'># convert the requirement array into an array of regexps.
</span>  <span class='comment'># examples:
</span>  <span class='comment'>#   &quot;10.8.5&quot; becomes  /^10\.8\.5$/
</span>  <span class='comment'>#   &quot;10.8&quot; becomes /^10.8(.0)?$/
</span>  <span class='comment'>#   &quot;10.8.x&quot; /^10\.8\.?\d*$/
</span>  <span class='id identifier rubyid_req_regexps'>req_regexps</span> <span class='op'>=</span> <span class='id identifier rubyid_requirement'>requirement</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.x</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.x</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>\.?\d*$</span><span class='regexp_end'>/</span></span>

    <span class='kw'>elsif</span> <span class='id identifier rubyid_r'>r</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\d+\.\d+$</span><span class='regexp_end'>/</span></span>
      <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>(.0)?$</span><span class='regexp_end'>/</span></span>

    <span class='kw'>else</span>
      <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>$</span><span class='regexp_end'>/</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_req_regexps'>req_regexps</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_re'>re</span><span class='op'>|</span> <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_os_to_check'>os_to_check</span> <span class='op'>=~</span> <span class='id identifier rubyid_re'>re</span> <span class='rbrace'>}</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse_datetime-class_method">
  
    .<strong>parse_datetime</strong>(a_datetime)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Deprecated - to be eventually removed in favor of the more-appropriately
named JSS::parse_time</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>parse_time</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 238</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parse_datetime'>parse_datetime</span><span class='lparen'>(</span><span class='id identifier rubyid_a_datetime'>a_datetime</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_parse_time'>parse_time</span><span class='lparen'>(</span><span class='id identifier rubyid_a_datetime'>a_datetime</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse_jss_version-class_method">
  
    .<strong>parse_jss_version</strong>(version)  &#x21d2; <tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>{Symbol =&gt; <span class='object_link'><a href="String.html" title="String (class)">String</a></span>, Gem::Version}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Parse a JSS Version number into something comparable.</p>

<p>This method returns a Hash with these keys:</p>
<ul><li>
<p>:major =&gt; the major version, Integer</p>
</li><li>
<p>:minor =&gt; the minor version, Integor</p>
</li><li>
<p>:maint =&gt; the revision, Integer (also available as :patch and :revision)</p>
</li><li>
<p>:build =&gt; the revision, String</p>
</li><li>
<p>:version =&gt; a Gem::Version object built from :major, :minor, :revision
which can be easily compared with other Gem::Version objects.</p>
</li></ul>

<p>NOTE: the :version value ignores build numbers, so comparisons only compare
major.minor.maint</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>version</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a JSS version number from the API</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>{Symbol =&gt; <span class='object_link'><a href="String.html" title="String (class)">String</a></span>, Gem::Version}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the parsed version data.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="JSS/InvalidDataError.html" title="JSS::InvalidDataError (class)">JSS::InvalidDataError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 419</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parse_jss_version'>parse_jss_version</span><span class='lparen'>(</span><span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_major'>major</span><span class='comma'>,</span> <span class='id identifier rubyid_second_part'>second_part</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid__rest'>_rest</span> <span class='op'>=</span> <span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="JSS/InvalidDataError.html" title="JSS::InvalidDataError (class)">InvalidDataError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>JSS Versions must start with &quot;x.x&quot; where x is one or more digits</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_major'>major</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\d$</span><span class='regexp_end'>/</span></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_second_part'>second_part</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\d</span><span class='regexp_end'>/</span></span>

  <span class='id identifier rubyid_release'>release</span><span class='comma'>,</span> <span class='id identifier rubyid_build'>build</span> <span class='op'>=</span> <span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>-</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_major'>major</span><span class='comma'>,</span> <span class='id identifier rubyid_minor'>minor</span><span class='comma'>,</span> <span class='id identifier rubyid_revision'>revision</span> <span class='op'>=</span> <span class='id identifier rubyid_release'>release</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_minor'>minor</span> <span class='op'>||=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_revision'>revision</span> <span class='op'>||=</span> <span class='int'>0</span>

  <span class='lbrace'>{</span>
    <span class='label'>major:</span> <span class='id identifier rubyid_major'>major</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span>
    <span class='label'>minor:</span>  <span class='id identifier rubyid_minor'>minor</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span>
    <span class='label'>revision:</span>  <span class='id identifier rubyid_revision'>revision</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span>
    <span class='label'>maint:</span>  <span class='id identifier rubyid_revision'>revision</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span>
    <span class='label'>patch:</span>  <span class='id identifier rubyid_revision'>revision</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span>
    <span class='label'>build:</span>  <span class='id identifier rubyid_build'>build</span><span class='comma'>,</span>
    <span class='label'>version:</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Version</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_major'>major</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_minor'>minor</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_revision'>revision</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse_plist-class_method">
  
    .<strong>parse_plist</strong>(plist)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Parse a plist into a Ruby data structure. This enhances Plist::parse_xml
taking file paths, as well as XML Strings and reading the files regardless
of binary/XML format.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>plist</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></tt>, <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the plist XML, or the path to a plist file</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the parsed plist as a ruby hash,array, etc.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 185</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parse_plist'>parse_plist</span><span class='lparen'>(</span><span class='id identifier rubyid_plist'>plist</span><span class='rparen'>)</span>
  <span class='comment'># did we get a string of xml, or a string pathname?
</span>  <span class='kw'>case</span> <span class='id identifier rubyid_plist'>plist</span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="String.html" title="String (class)">String</a></span></span>
    <span class='kw'>return</span> <span class='const'>Plist</span><span class='period'>.</span><span class='id identifier rubyid_parse_xml'>parse_xml</span> <span class='id identifier rubyid_plist'>plist</span> <span class='kw'>if</span> <span class='id identifier rubyid_plist'>plist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;/plist&gt;</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_plist'>plist</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_plist'>plist</span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span>
    <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Argument must be a path (as a Pathname or String) or a String of XML</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span> <span class='comment'># case plist
</span>
  <span class='comment'># if we&#39;re here, its a Pathname
</span>  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="JSS/MissingDataError.html" title="JSS::MissingDataError (class)">MissingDataError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No such file: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_plist'>plist</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_plist'>plist</span><span class='period'>.</span><span class='id identifier rubyid_file?'>file?</span>

  <span class='const'>Plist</span><span class='period'>.</span><span class='id identifier rubyid_parse_xml'>parse_xml</span> <span class='backtick'>`</span><span class='tstring_content'>/usr/libexec/PlistBuddy -x -c print </span><span class='embexpr_beg'>#{</span><span class='const'>Shellwords</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_plist'>plist</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>`</span></span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse_time-class_method">
  
    .<strong>parse_time</strong>(a_datetime)  &#x21d2; <tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts anything that responds to #to_s to a Time, or nil</p>

<p>Return nil if the item is nil, 0 or an empty String.</p>

<p>Otherwise the item converted to a string, and parsed with DateTime.parse.
It is then examined to see if it has a UTC offset. If not, the local offset
is applied, then the DateTime is converted to a Time.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>a_datetime</span>
      
      
        <span class='type'>(<tt>#to_s</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The thing to convert to a time.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>nil is returned if a_datetime is nil, 0 or an empty String.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 215</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parse_time'>parse_time</span><span class='lparen'>(</span><span class='id identifier rubyid_a_datetime'>a_datetime</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="#NIL_DATES-constant" title="JSS::NIL_DATES (constant)">NIL_DATES</a></span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_a_datetime'>a_datetime</span>

  <span class='id identifier rubyid_the_dt'>the_dt</span> <span class='op'>=</span> <span class='const'>DateTime</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_a_datetime'>a_datetime</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>

  <span class='comment'># The microseconds in DateTimes are stored as a fraction of a day.
</span>  <span class='comment'># Convert them to an integer of microseconds
</span>  <span class='id identifier rubyid_usec'>usec</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_the_dt'>the_dt</span><span class='period'>.</span><span class='id identifier rubyid_sec_fraction'>sec_fraction</span> <span class='op'>*</span> <span class='int'>60</span> <span class='op'>*</span> <span class='int'>60</span> <span class='op'>*</span> <span class='int'>24</span> <span class='op'>*</span> <span class='lparen'>(</span><span class='int'>10</span><span class='op'>**</span><span class='int'>6</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>

  <span class='comment'># if the UTC offset of the datetime is zero, make a new one with the correct local offset
</span>  <span class='comment'># (which might also be zero if we happen to be in GMT)
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_the_dt'>the_dt</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
    <span class='id identifier rubyid_the_dt'>the_dt</span> <span class='op'>=</span> <span class='const'>DateTime</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_the_dt'>the_dt</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_the_dt'>the_dt</span><span class='period'>.</span><span class='id identifier rubyid_month'>month</span><span class='comma'>,</span> <span class='id identifier rubyid_the_dt'>the_dt</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_the_dt'>the_dt</span><span class='period'>.</span><span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_the_dt'>the_dt</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_the_dt'>the_dt</span><span class='period'>.</span><span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#TIME_ZONE_OFFSET-constant" title="JSS::TIME_ZONE_OFFSET (constant)">TIME_ZONE_OFFSET</a></span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='comment'># now convert it to a Time and return it
</span>  <span class='const'><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></span><span class='period'>.</span><span class='id identifier rubyid_at'>at</span> <span class='id identifier rubyid_the_dt'>the_dt</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span> <span class='id identifier rubyid_usec'>usec</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="processor_ok?-class_method">
  
    .<strong>processor_ok?</strong>(requirement, processor = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Scripts and packages can have processor limitations. This method tests a
given processor, against a requirement to see if the requirement is met.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>requirement</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The processor requirement. either &#39;ppc&#39;, &#39;x86&#39;, or some
variation on “none”, nil, or empty</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>processor</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the processor to check, defaults to the processor of the current machine.
Any flavor of intel</p>

<pre class="code ruby"><code class="ruby">is (i486, i386, x86-64, etc) is treated as &quot;x86&quot;</code></pre>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>can this pkg be installed with the processor given?</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


96
97
98
99
100</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 96</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_processor_ok?'>processor_ok?</span><span class='lparen'>(</span><span class='id identifier rubyid_requirement'>requirement</span><span class='comma'>,</span> <span class='id identifier rubyid_processor'>processor</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_requirement'>requirement</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span> <span class='id identifier rubyid_requirement'>requirement</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>none</span><span class='regexp_end'>/i</span></span>
  <span class='id identifier rubyid_processor'>processor</span> <span class='op'>||=</span> <span class='backtick'>`</span><span class='tstring_content'>/usr/bin/uname -p</span><span class='tstring_end'>`</span></span>
  <span class='id identifier rubyid_requirement'>requirement</span> <span class='op'>==</span> <span class='lparen'>(</span><span class='id identifier rubyid_processor'>processor</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>86</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x86</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ppc</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prompt_for_password-class_method">
  
    .<strong>prompt_for_password</strong>(message)  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Prompt for a password in a terminal.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>message</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the prompt message to display</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the text typed by the user</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


470
471
472
473
474
475
476
477
478
479
480
481</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 470</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_prompt_for_password'>prompt_for_password</span><span class='lparen'>(</span><span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='gvar'>$stdin</span><span class='period'>.</span><span class='id identifier rubyid_reopen'>reopen</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/dev/tty</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='gvar'>$stdin</span><span class='period'>.</span><span class='id identifier rubyid_tty?'>tty?</span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/bin/stty -echo</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_pw'>pw</span> <span class='op'>=</span> <span class='gvar'>$stdin</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_puts'>puts</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/bin/stty echo</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span> <span class='comment'># begin
</span>  <span class='id identifier rubyid_pw'>pw</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stdin-class_method">
  
    .<strong>stdin</strong>(line = 0)  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Retrive one or all lines from whatever was piped to standard input.</p>

<p>Standard input is read completely the first time this method is called and
the lines are stored as an Array in the module var @stdin_lines</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>line</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>0</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>which line of stdin is being retrieved. The default is zero (0) which
returns all of stdin as a single string.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the requested ling of stdin, or nil if it doesn&#39;t exist.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


456
457
458
459
460
461
462</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 456</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_stdin'>stdin</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='int'>0</span><span class='rparen'>)</span>
  <span class='ivar'>@stdin_lines</span> <span class='op'>||=</span> <span class='lparen'>(</span><span class='gvar'>$stdin</span><span class='period'>.</span><span class='id identifier rubyid_tty?'>tty?</span> <span class='op'>?</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='gvar'>$stdin</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='period'>.</span><span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span> <span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='rparen'>)</span>

  <span class='kw'>return</span> <span class='ivar'>@stdin_lines</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_idx'>idx</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>-</span> <span class='int'>1</span>
  <span class='ivar'>@stdin_lines</span><span class='lbracket'>[</span><span class='id identifier rubyid_idx'>idx</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="superuser?-class_method">
  
    .<strong>superuser?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns is this code running as root?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>is this code running as root?</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


442
443
444</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 442</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_superuser?'>superuser?</span>
  <span class='const'>Process</span><span class='period'>.</span><span class='id identifier rubyid_euid'>euid</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s_and_a-class_method">
  
    .<strong>to_s_and_a</strong>(somedata)  &#x21d2; <tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>{:stringform =&gt; <span class='object_link'><a href="String.html" title="String (class)">String</a></span>, :arrayform =&gt; <span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given a list of data as a comma-separated string, or an Array of strings,
return a Hash with both versions.</p>

<p>Some parts of the JSS require lists as comma-separated strings, while often
those data are easier work with as arrays. This method is a handy way to
get either form when given either form.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_s_and_a'>to_s_and_a</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo, bar, baz</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># Hash =&gt; {:stringform =&gt; &quot;foo, bar, baz&quot;, :arrayform =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]}
</span>
<span class='const'><span class='object_link'><a href="" title="JSS (module)">JSS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_s_and_a'>to_s_and_a</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='comment'># Hash =&gt; {:stringform =&gt; &quot;foo, bar, baz&quot;, :arrayform =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]}</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>somedata</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the data to parse, of either class,</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>{:stringform =&gt; <span class='object_link'><a href="String.html" title="String (class)">String</a></span>, :arrayform =&gt; <span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the data as both comma-separated String and Array</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/utility.rb', line 160</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_to_s_and_a'>to_s_and_a</span><span class='lparen'>(</span><span class='id identifier rubyid_somedata'>somedata</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_somedata'>somedata</span>
  <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_valstr'>valstr</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_valarr'>valarr</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="String.html" title="String (class)">String</a></span></span>
    <span class='id identifier rubyid_valstr'>valstr</span> <span class='op'>=</span> <span class='id identifier rubyid_somedata'>somedata</span>
    <span class='id identifier rubyid_valarr'>valarr</span> <span class='op'>=</span> <span class='id identifier rubyid_somedata'>somedata</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>,\s*</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></span>
    <span class='id identifier rubyid_valstr'>valstr</span> <span class='op'>=</span> <span class='id identifier rubyid_somedata'>somedata</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_valarr'>valarr</span> <span class='op'>=</span> <span class='id identifier rubyid_somedata'>somedata</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="JSS/InvalidDataError.html" title="JSS::InvalidDataError (class)">InvalidDataError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Input must be a comma-separated String or an Array of Strings</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span> <span class='comment'># case
</span>  <span class='lbrace'>{</span> <span class='label'>stringform:</span> <span class='id identifier rubyid_valstr'>valstr</span><span class='comma'>,</span> <span class='label'>arrayform:</span> <span class='id identifier rubyid_valarr'>valarr</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_api_connection-class_method">
  
    .<strong>use_api_connection</strong>(connection)  &#x21d2; <tt><span class='object_link'><a href="JSS/APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='use_api-class_method'>use_api</span>, <span id='use_connection-class_method'>use_connection</span>, <span id='activate_connection-class_method'>activate_connection</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Switch the connection used for all API interactions to the one provided.
See <span class='object_link'><a href="JSS/APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span> for details and examples of using multiple
connections</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>connection</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="JSS/APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The APIConnection to use for future API calls. If omitted, use the default
connection created when ruby-jss was loaded (which may or may not yet be
connected)</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="JSS/APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The connection now being used.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1277
1278
1279
1280</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 1277</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_use_api_connection'>use_api_connection</span><span class='lparen'>(</span><span class='id identifier rubyid_connection'>connection</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>API connections must be instances of JSS::APIConnection</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_connection'>connection</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="" title="JSS (module)">JSS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="JSS/APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span></span>
  <span class='ivar'>@api</span> <span class='op'>=</span> <span class='id identifier rubyid_connection'>connection</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_default_connection-class_method">
  
    .<strong>use_default_connection</strong>  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Make the default connection (Stored in JSS::API) active</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1286
1287
1288</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 1286</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_use_default_connection'>use_default_connection</span>
  <span class='id identifier rubyid_use_api_connection'>use_api_connection</span> <span class='ivar'>@api</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Aug  7 11:26:23 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.20 (ruby-2.3.7).
</div>

    </div>
  </body>
</html>